<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>rachpt&#39;s Blog</title>
  
  <subtitle>时间总是追不上</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://rachpt.me/"/>
  <updated>2018-03-23T14:14:19.238Z</updated>
  <id>https://rachpt.me/</id>
  
  <author>
    <name>rachpt</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>notes-for-shell-scripting-bible</title>
    <link href="https://rachpt.me/2018/03/23/notes-for-shell-scripting-bible/"/>
    <id>https://rachpt.me/2018/03/23/notes-for-shell-scripting-bible/</id>
    <published>2018-03-23T13:23:22.000Z</published>
    <updated>2018-03-23T14:14:19.238Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Linux 命令行与 shell 脚本编程大全（第二版）简要阅读笔记。</p></blockquote><a id="more"></a><p>看到哪儿就就记到哪，没有规律可循。</p><h1 id="cron-时间表"><a href="#cron-时间表" class="headerlink" title="cron 时间表"></a>cron 时间表</h1><p>全称 <code>cron table</code> ，*  通配符，dayofweek 可以使用 三字母格式（mon, tue, wed, thu, fri,  sat, sun）</p><p>对应<code>0-6</code> ，0 为 sun。</p><p>每一月最后一天执行脚本的一种方式：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">00 12 * * * <span class="keyword">if</span> [ `date +%d -d tomorrow` = 01 ] ; <span class="keyword">then</span> ; COMMAND</span><br></pre></td></tr></table></figure><p>crontab -l    列出所有定时任务。</p><p>crontab -e    编辑用户自己的时间表，文件在 <code>/var/spool/cron/</code> 目录下。</p><p>对于不要求使用精确时间的任务，可以在 <code>/etc/cron.*ly</code> 添加脚本。</p><p>hourly，monthly，daily。意如其名，复制到里面即可。</p><p>cron 惟一的问题是假定你 7x24 小时开机。</p><p>anacron 可以执行错过了的 cron 任务。</p><p>cron 时间戳文件在 <code>/var/spool/anacron</code> 下，作业表在 <code>/etc/anacrontab</code>  文件。</p><h1 id="开机运行脚本"><a href="#开机运行脚本" class="headerlink" title="开机运行脚本"></a>开机运行脚本</h1><p>ubuntu 发行版默认开机运行级别 2 ，如果想改，需要自己创建 <code>/etc/inittab</code>文件。</p><p>0，关机；1 ，单用户模式；6 ，关机。2-5 ubuntu 不区分，red hat 区分。</p><p>不同发行版使用的 开机脚本(upstart script)路径不同，如</p><p><code>/etc/rc#.d</code></p><p><code>/etc/init.d</code></p><p><code>/etc/init.d/rc.d</code></p><p>定义自己的</p><p><code>/etc/initio.d/rc.local</code>  dabian 发行版</p><p><code>/etc/rc.local</code>    ubuntn 发行版</p><p>如果使用脚本，需要使用全路径名。</p><h1 id="任务优先级"><a href="#任务优先级" class="headerlink" title="任务优先级"></a>任务优先级</h1><p>使用 <code>nice</code> 与 <code>renice</code> 命令修改优先级。值  -20  –  20 ，越大优先级越小。</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">nice -d 10 ./test.sh</span><br><span class="line"></span><br><span class="line">renice 12 -p 进程号</span><br></pre></td></tr></table></figure><p>普通用户只能降低优先级，root 用户（或者 sudo）可以随意。</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;Linux 命令行与 shell 脚本编程大全（第二版）简要阅读笔记。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="linux" scheme="https://rachpt.me/categories/linux/"/>
    
    
      <category term="shell" scheme="https://rachpt.me/tags/shell/"/>
    
  </entry>
  
  <entry>
    <title>CASTEP-module-in-MS</title>
    <link href="https://rachpt.me/2018/03/23/CASTEP-module-in-MS/"/>
    <id>https://rachpt.me/2018/03/23/CASTEP-module-in-MS/</id>
    <published>2018-03-23T02:56:20.000Z</published>
    <updated>2018-03-23T03:14:45.997Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>网上找的部分 Materials Studio 关于 CASTEP 模块的使用。</p></blockquote><a id="more"></a><h1 id="生成的文件作用"><a href="#生成的文件作用" class="headerlink" title="生成的文件作用"></a>生成的文件作用</h1><p><code>.cell</code>    文件包含 坐标和晶格参数<br><code>.param</code>  文件包含 所有模拟输入参数</p><p>ms 设置 中的 Optimize cell 意思是优化晶格常数，改变 计算精度，自动优化晶包</p><p>得到的文件<br><code>.xsd</code>        最后的优化结构<br><code>.xtd</code>        轨迹文件，包含每一步的结构<br><code>.castep</code>    包含优化信息的输出文件</p><p>计算任何性质，都有 <code>.param</code> <code>.castep</code> 文件输出。</p><p>linux 使用 perl 脚本命令进行 处理</p><p>比如    <code>perl cell2poscar.pl .cell, 生成POSCAR文件</code></p><p><a href="http://muchong.com/zhuanji-322-1" target="_blank" rel="noopener">原出处</a> 。</p><h1 id="关于第一原理的一些理解："><a href="#关于第一原理的一些理解：" class="headerlink" title="关于第一原理的一些理解："></a>关于第一原理的一些理解：</h1><p>（1）第一性原理其实是包括基于密度泛函的从头算和基于Hartree-Fock自洽计算的从头算，前者以电子密度作为基本变量（霍亨伯格-科洪定理），通过求解Kohn-Sham方程，迭代自洽得到体系的基态电子密度，然后求体系的基态性质；后者则通过自洽求解Hartree-Fock方程，获得体系的波函数，求基态性质；<br>评述：K-S方程的计算水平达到了H-F水平，同时还考虑了电子间的交换关联作用。<br>（2）关于DFT中密度泛函的Functional，其实是交换关联泛函，包括LDA，GGA，杂化泛函等等。<br>一般LDA为局域密度近似，在空间某点用均匀电子气密度作为交换关联泛函的唯一变量，多数为参数化的CA-PZ方案；<br>GGA为广义梯度近似，不仅将电子密度作为交换关联泛函的变量，也考虑了密度的梯度为变量，包括PBE,PW,RPBE等方案，BLYP泛函也属于GGA；<br>此外还有一些杂化泛函，B3LYP等。<br>（3）关于赝势<br>在处理计算体系中原子的电子态时，有两种方法，一种是考虑所有电子，叫做全电子法，比如WIEN2K中的FLAPW方法(线性缀加平面波)；此外还有一种方法是只考虑价电子，而把芯电子和原子核构成离子实放在一起考虑，即赝势法，一般赝势法是选取一个截断半径，截断半径以内，波函数变化较平滑，和真实的不同，截断半径以外则和真实情况相同，而且赝势法得到的能量本征值和全电子法应该相同。<br>赝势包括模守恒和超软，模守恒较硬，一般需要较大的截断能，超软势则可以用较小的截断能即可。另外，模守恒势的散射特性和全电子相同，因此一般红外，拉曼等光谱的计算需要用模守恒势。<br>赝势的测试标准应是赝势与全电子法计算结果的匹配度，而不是赝势与实验结果的匹配度，因为和实验结果的匹配可能是偶然的。<br>（4）关于收敛测试：<br>（a）Ecut，也就是截断能，一般情况下，总能相对于不同Ecut做计算，当Ecut增大时总能变化不明显了即可；然而，在需要考虑体系应力时，还需对应力进行收敛测试，而且应力相对于Ecut的收敛要比总能更为苛刻，也就是某个截断能下总能已经收敛了，但应力未必收敛。<br>（b）K-point，即K网格，一般金属需要较大的K网格，采用超晶胞时可以选用相对较小的K网格，但实际上还是要经过测试。<br>（5）关于磁性<br>一般何时考虑自旋呢？举例子，例如BaTiO3中，Ba、Ti和O分别为+2，+4和-2价，离子全部为各个轨道满壳层的结构，就不必考虑自旋了；对于BaMnO3中，由于Mn+3价时d轨道还有电子，但未满，因此需考虑Mn的自旋，至于Ba和O则不必考虑。其实设定自旋就是给定一个原子磁矩的初始值，只在刚开始计算时作为初始值使用，具体的可参照磁性物理。<br>（6）关于几何优化<br>包括很多种了，比如晶格常数和原子位置同时优化，只优化原子位置，只优化晶格常数，还有晶格常数和原子位置分开优化等等。<br>在PRL一篇文章中见到过只优化原子位置，晶格常数用实验值的例子（PRL 100, 186402 (2008)）；也见到过晶格常数先优化，之后固定晶格常数优化原子位置的情况；更多的情况则是Full geometry optimization。<br>一般情况下，也有不优化几何结构直接计算电子结构的，但是对于缺陷形成能的计算则往往要优化。<br>（7）关于软件<br>软件大致分为基于平面波的软件，如CASTEP、PWSCF和ABINIT等等，计算量大概和体系原子数目的三次方相关；还有基于原子轨道线性组合的软件(LCAO)，比如openmx，siesta，dmol等，计算量和体系原子数目相关，一般可模拟较多原子数目的体系。 </p><p>参考文献：<br><em>Designing meaningful density functional theory calculations in materials science—a primer</em></p><p>赝势</p><p>晶包内原子超过30个时，或者晶包内有许多空洞的地方，使用 <code>real-space</code> 效率更高。</p><p><a href="https://wenku.baidu.com/view/cfd6d12e360cba1aa911daa6.html" target="_blank" rel="noopener">出处</a> 。</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;网上找的部分 Materials Studio 关于 CASTEP 模块的使用。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="DFT" scheme="https://rachpt.me/categories/DFT/"/>
    
    
      <category term="castep" scheme="https://rachpt.me/tags/castep/"/>
    
  </entry>
  
  <entry>
    <title>几个 shell 脚本</title>
    <link href="https://rachpt.me/2018/03/19/sevseral-shell-scripts/"/>
    <id>https://rachpt.me/2018/03/19/sevseral-shell-scripts/</id>
    <published>2018-03-19T14:12:41.000Z</published>
    <updated>2018-03-20T15:06:46.979Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>记录几个 shell 脚本，高效。</p></blockquote><a id="more"></a><h1 id="批量使用下划线替换路径中的空格"><a href="#批量使用下划线替换路径中的空格" class="headerlink" title="批量使用下划线替换路径中的空格"></a>批量使用下划线替换路径中的空格</h1><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash </span></span><br><span class="line"></span><br><span class="line">find . -name <span class="string">"* *"</span>|</span><br><span class="line"><span class="keyword">while</span> <span class="built_in">read</span> name;<span class="keyword">do</span></span><br><span class="line"></span><br><span class="line">        na=$(<span class="built_in">echo</span> <span class="variable">$name</span> | tr <span class="string">' '</span> <span class="string">'_'</span>)</span><br><span class="line"></span><br><span class="line">        mv <span class="string">"<span class="variable">$name</span>"</span> <span class="variable">$na</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure><p><a href="http://crabdave.iteye.com/blog/2315483" target="_blank" rel="noopener">参考文章</a>。</p><h1 id="Imagemagic-批量缩小图片"><a href="#Imagemagic-批量缩小图片" class="headerlink" title="Imagemagic 批量缩小图片"></a>Imagemagic 批量缩小图片</h1><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ ! -d re_size ];<span class="keyword">then</span></span><br><span class="line">  mkdir -p re_size</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">filelist=$(find  -iname <span class="string">"*.jpg"</span>)</span><br><span class="line">FOLDER=$(<span class="built_in">cd</span> `dirname <span class="variable">$0</span>`; <span class="built_in">pwd</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> filename <span class="keyword">in</span> <span class="variable">$filelist</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">do</span>  </span><br><span class="line">tempname=<span class="variable">$&#123;filename#*.&#125;</span></span><br><span class="line">newfilename=<span class="variable">$&#123;FOLDER&#125;</span><span class="variable">$&#123;tempname&#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ ! -d re_size<span class="variable">$&#123;tempname%/*&#125;</span> ];<span class="keyword">then</span></span><br><span class="line">  mkdir -p re_size<span class="variable">$&#123;tempname%/*&#125;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">convert <span class="variable">$newfilename</span> -resize 800 -quality 60 <span class="variable">$&#123;FOLDER&#125;</span>/re_size<span class="variable">$&#123;tempname&#125;</span> </span><br><span class="line"></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure><p><a href="http://www.jincon.com/archives/249" target="_blank" rel="noopener">参考文章1</a> ，<a href="http://blog.sina.com.cn/s/blog_ba532aea0101bty5.html" target="_blank" rel="noopener">参考2</a>  。</p><h1 id="批量压制视频"><a href="#批量压制视频" class="headerlink" title="批量压制视频"></a>批量压制视频</h1><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash </span></span><br><span class="line"><span class="comment"># author: rachpt@126.com</span></span><br><span class="line"><span class="comment">#------settings--------#</span></span><br><span class="line"></span><br><span class="line">myfolder=finshed</span><br><span class="line"><span class="comment"># use sd or ipad</span></span><br><span class="line">compatibility=sd </span><br><span class="line"></span><br><span class="line"><span class="comment">#-------maincode-------#</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$compatibility</span> == <span class="string">"sd"</span> ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">cut=<span class="string">"854x480"</span></span><br><span class="line">videorate=<span class="string">"500k"</span></span><br><span class="line">audiorate=<span class="string">"64k"</span></span><br><span class="line">speed=<span class="string">"fast"</span></span><br><span class="line">profile=<span class="string">"-x264-params \"profile=high:level=4.0\""</span></span><br><span class="line">out=<span class="string">"480p"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">elif</span> [ <span class="variable">$compatibility</span> == <span class="string">"ipad"</span> ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">cut=<span class="string">"1280x720"</span></span><br><span class="line">videorate=<span class="string">"2200k"</span></span><br><span class="line">audiorate=<span class="string">"128k"</span></span><br><span class="line">speed=<span class="string">"slow"</span></span><br><span class="line">profile=<span class="string">"-x264-params \"profile=high:level=4.2\""</span></span><br><span class="line">out=<span class="string">"720p"</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">        <span class="built_in">exit</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ ! -d <span class="variable">$myfolder</span> ];<span class="keyword">then</span></span><br><span class="line">  mkdir -p <span class="variable">$myfolder</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">filelist=$(find \( -iname <span class="string">"*.mp4"</span> -o -iname <span class="string">"*.mkv"</span> -o -iname <span class="string">"*.ts"</span> -o -iname <span class="string">"*.avi"</span> -o -iname <span class="string">"*.wmv"</span> \) -a ! -name <span class="string">"*_<span class="variable">$out</span>.mp4"</span>)</span><br><span class="line">FOLDER=$(<span class="built_in">cd</span> `dirname <span class="variable">$0</span>`; <span class="built_in">pwd</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> filename <span class="keyword">in</span> <span class="variable">$filelist</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">tempname=<span class="variable">$&#123;filename#*/&#125;</span></span><br><span class="line">newfilename=<span class="variable">$&#123;FOLDER&#125;</span>/<span class="variable">$&#123;tempname&#125;</span></span><br><span class="line">ffmpegcode=<span class="string">"ffmpeg -i <span class="variable">$newfilename</span> -s <span class="variable">$cut</span> -c:v libx264 <span class="variable">$profile</span> -preset <span class="variable">$speed</span> -b:v <span class="variable">$videorate</span>"</span></span><br><span class="line">isempty=<span class="variable">$&#123;filename#*.&#125;</span></span><br><span class="line">isempty=<span class="variable">$&#123;isempty%/*&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ ! -d <span class="variable">$myfolder</span><span class="variable">$isempty</span> ];<span class="keyword">then</span></span><br><span class="line"></span><br><span class="line">  mkdir -p <span class="variable">$myfolder</span><span class="variable">$isempty</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">nohup <span class="variable">$ffmpegcode</span> -pass 1 -an -f mp4 -y /dev/null &amp;&amp; <span class="variable">$ffmpegcode</span> -pass 2 -c:a aac -b:a <span class="variable">$audiorate</span> -strict -2 <span class="variable">$&#123;FOLDER&#125;</span>/<span class="variable">$myfolder</span>/<span class="variable">$&#123;tempname%.*&#125;</span>_<span class="variable">$out</span>.mp4 &gt;/dev/null 2&gt;&amp;1</span><br><span class="line"></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line">rm -f ffmpeg2pass*</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"finished!"</span></span><br><span class="line"><span class="built_in">exit</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;记录几个 shell 脚本，高效。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="linux" scheme="https://rachpt.me/categories/linux/"/>
    
    
      <category term="shell" scheme="https://rachpt.me/tags/shell/"/>
    
  </entry>
  
  <entry>
    <title>Materials Studio CASTEP 迭代次数设置</title>
    <link href="https://rachpt.me/2018/03/14/ms-scf-max-iterations/"/>
    <id>https://rachpt.me/2018/03/14/ms-scf-max-iterations/</id>
    <published>2018-03-14T03:33:31.926Z</published>
    <updated>2018-03-14T03:33:31.926Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>今天遇到 Materials Studio cij 计算失败，提示基态电子最小化失败。检查输出文件，发现蛛丝马迹。</p></blockquote><a id="more"></a><h1 id="错误信息"><a href="#错误信息" class="headerlink" title="错误信息"></a>错误信息</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Error check_elec_ground_state : electronic_minimisation of initial cell failed.</span><br><span class="line">Current trace stack:</span><br><span class="line"> check_elec_ground_state</span><br><span class="line"> castep</span><br></pre></td></tr></table></figure><p>检查<code>castep</code> 文件发现下面的片段</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">.</span><br><span class="line">.</span><br><span class="line">     99  -2.09594982E+004  6.31070540E-001   3.18129596E-006    4013.01  &lt;-- SCF</span><br><span class="line">    100  -2.09594980E+004  6.31017470E-001  -2.41328571E-006    4053.95  &lt;-- SCF</span><br><span class="line">------------------------------------------------------------------------ &lt;-- SCF</span><br><span class="line"> *Warning* max. SCF cycles performed but system has not reached the groundstate.</span><br><span class="line">  </span><br><span class="line">Current total energy, E     =  -20959.33865776     eV</span><br><span class="line">Current free energy (E-TS)  =  -20959.49797103     eV</span><br><span class="line">(energies not corrected for finite basis set)</span><br><span class="line"> .</span><br><span class="line"> .</span><br><span class="line"> .</span><br></pre></td></tr></table></figure><p>意思大概是我设置的 <code>SCF</code> 迭代次数不够，100次后仍然未能找到自恰解。</p><p>回想使用步骤皆是以前的所用的，马上翻看之前成功的<code>castep</code>文件，</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">     13  -2.78030685E+004 -1.99686373E+000  -7.49554981E-007     898.41  &lt;-- SCF</span><br><span class="line">     14  -2.78030685E+004 -1.99941165E+000   4.13854537E-008     943.16  &lt;-- SCF</span><br><span class="line">     15  -2.78030685E+004 -2.00267847E+000  -2.65786251E-007     988.60  &lt;-- SCF</span><br><span class="line">------------------------------------------------------------------------ &lt;-- SCF</span><br><span class="line"> </span><br><span class="line">Final energy, E             =  -27803.06847596     eV</span><br><span class="line">Final free energy (E-TS)    =  -27803.06847596     eV</span><br><span class="line">(energies not corrected for finite basis set)</span><br></pre></td></tr></table></figure><p>几乎都是十几次得到自恰解。</p><p>找到问题所在。</p><h1 id="迭代次数我不是设置的500-么"><a href="#迭代次数我不是设置的500-么" class="headerlink" title="迭代次数我不是设置的500 么"></a>迭代次数我不是设置的500 么</h1><p>回到 windows 版的MS，检查设置。我勒个去，<code>Geometry Optimization</code> 的 <code>Max.iterations</code>是500没错，但是<code>Elastic Constants</code> 的 <code>Max.iterations</code>还是默认的100。</p><p>还有 SCF 迭代次数可以设置。</p><p>问题有可能就在这里，提高迭代次数上线，有可能能够收敛，也有可能不能，白白浪费时间。</p><p>截断能、k点、自旋、对称性等都有可能影响收敛。</p><p>没办法，只能试试看了。</p><p>后续如果解决，会详细记录。</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;今天遇到 Materials Studio cij 计算失败，提示基态电子最小化失败。检查输出文件，发现蛛丝马迹。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="DFT" scheme="https://rachpt.me/categories/DFT/"/>
    
    
      <category term="castep" scheme="https://rachpt.me/tags/castep/"/>
    
      <category term="ms" scheme="https://rachpt.me/tags/ms/"/>
    
  </entry>
  
  <entry>
    <title>几个 MS 错误</title>
    <link href="https://rachpt.me/2018/03/13/some-error-of-ms/"/>
    <id>https://rachpt.me/2018/03/13/some-error-of-ms/</id>
    <published>2018-03-13T14:02:23.000Z</published>
    <updated>2018-03-13T14:12:33.863Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>记录几个 MS 的错误。</p></blockquote><a id="more"></a><h1 id="未找到基态能"><a href="#未找到基态能" class="headerlink" title="未找到基态能"></a>未找到基态能</h1><p> 在计算过程中经常遇到计算失败的情况，文件给出的警告是：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">*Warning* max. SCF cycles performed but system has not reached the groundstate.</span><br><span class="line"></span><br><span class="line"> Warning: electronic minimisation did not converge when finding ground state.</span><br></pre></td></tr></table></figure><p> 和收敛有关的参数主要有能量的<code>CUTOFF</code>，<code>SCF的次数</code>，<code>SMEAR</code>，以及<code>K点选取</code>等，可以尝试一下。</p><h1 id="SCF最大仍不收敛"><a href="#SCF最大仍不收敛" class="headerlink" title="SCF最大仍不收敛"></a>SCF最大仍不收敛</h1><p>一般来说，MS默认的SCF次数100对于小系统是够用的，但是，原子数一多，就不一定了。</p><p>a) 首先结构的合理性，如果自建的结构偏离最低能量太大（或失配度太大），可能会难以收敛。</p><p>b) 取消一切对称性，充分驰豫晶格。</p><p>c) 有些结构本身就是亚稳态，scf的各项收敛指标如果设的太高，对于亚稳态就可能达不到如此的精度。</p><p>d) 改变收敛的条件，降低精度(能量的截断值)。</p><p>e) 增加循环次数。</p><p>f) 改变赝势。</p><h1 id="优化不收敛"><a href="#优化不收敛" class="headerlink" title="优化不收敛"></a>优化不收敛</h1><p>增加设Max.Interations的大小</p><p><code>interations</code>是定义积分精度的，相当于gaussian里的int选项；根据gauss的经验，对重原子如果不用细的积分网格，结果就不准确，特别是频率计算，可能会把正的频率算成负的频率。提高 interations的确可以提高精度，特别是对于过渡态和频率计算。</p><h1 id="总能和文献不一致，而且多种方法都不同"><a href="#总能和文献不一致，而且多种方法都不同" class="headerlink" title="总能和文献不一致，而且多种方法都不同"></a>总能和文献不一致，而且多种方法都不同</h1><p> 很正常，只要相对值近似就可以。</p><p>在倒空间进行电子结构计算的方法中,都存在一个能量零点的取法的问题,不同的程序,取的不同。根本原因是V(G)在G=0是发散的(可以去R.T. Martin的电子结构那本书)。</p><p>castep是利用周期性,在倒空间进行电子结构计算的.我没有记错的话,Dmol3是在实空间来进行电子结构计算的.能量零点的取法就跟不同前者了。</p><p>因此在进行电子结构计算中，不要比较任何绝对能量值的大小，这样是毫无意义的，即使是同一个程序中也是这样，更不用说是两个不同的程序。</p><p>能量的相对值才具有物理意义。</p><hr><p><a href="http://blog.sina.com.cn/s/blog_68e8ad8f01016oyg.html" target="_blank" rel="noopener">部分来自该文</a> 。</p><h1 id="CASTEP结果错报警信息"><a href="#CASTEP结果错报警信息" class="headerlink" title="CASTEP结果错报警信息"></a>CASTEP结果错报警信息</h1><p>是CASTEP结果中的出错报警信息，该信息的含义如下：</p><p><em>Warning</em> max. SCF cycles performed but system has not reached the groundstate.<br>已完成最大SCF循环，但体系仍未到达基态。<br>Current total energy, E     =  -3470.539604785     eV<br>Current free energy (E-TS)  =  -3470.795901720     eV<br>(energies not corrected for finite basis set)</p><p>NB est. 0K energy (E-0.5TS) =  -3470.667753253     eV<br>上述三者分别为完成最大SCF循环后（即当前）能量值。<br>*<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>***</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br> Warning: electronic minimisation did not converge when finding ground state.<br>在搜寻基态过程中电子最小化并未达到收敛，</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;记录几个 MS 的错误。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="DFT" scheme="https://rachpt.me/categories/DFT/"/>
    
    
      <category term="castep" scheme="https://rachpt.me/tags/castep/"/>
    
      <category term="ms" scheme="https://rachpt.me/tags/ms/"/>
    
  </entry>
  
  <entry>
    <title>Linux 中快速添加 hexo 文章</title>
    <link href="https://rachpt.me/2018/03/13/quick-add-a-essay-on-hexoSysem/"/>
    <id>https://rachpt.me/2018/03/13/quick-add-a-essay-on-hexoSysem/</id>
    <published>2018-03-13T10:41:51.000Z</published>
    <updated>2018-03-13T12:36:36.145Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>在 hexo 添加新的文章的方式通常使用 new 命令新建一个 post ，然后编辑保存，或者直接使用编辑器新建保存，写了一个 shell 脚本实现便利地写文章。</p></blockquote><a id="more"></a><p>所用的系统为 Linux mint ，markdown 编辑器为 typora 。</p><p>由于在 <code>_post</code> 中直接新建 md 文件需要自己手动天际 yaml 文件头，title 、date 等。而 cd 到 hexo 根目录后，使用命令 <code>hexo new post &quot;title-of-essay&quot;</code> ，即可在 <code>_post</code> 中创建预定样式的 md 文件，但是步骤略微繁琐。</p><div class="note default"><p>通常的步骤：</p></div><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> blog <span class="comment">#我的 hexo 博客目录</span></span><br><span class="line">hexo new post title-for<span class="_">-a</span>-page</span><br><span class="line"></span><br><span class="line">typora ~blog/<span class="built_in">source</span>/_posts/title-for<span class="_">-a</span>-page.md &amp;</span><br></pre></td></tr></table></figure><p>需要按的键比较多。</p><p>想到使用 shell 脚本，然后使用  alias 设置别名，爽歪歪。</p><p>脚本如下：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash </span></span><br><span class="line"><span class="built_in">read</span> -t 600 -p <span class="string">"输入文章标题："</span> title</span><br><span class="line"><span class="built_in">cd</span> ~/blog </span><br><span class="line">dir=$(hexo new post <span class="variable">$title</span> | cut -d : -f 2)</span><br><span class="line">dir=<span class="variable">$&#123;dir#*/&#125;</span></span><br><span class="line"><span class="built_in">cd</span> ~ </span><br><span class="line">typora <span class="variable">$dir</span> &amp;</span><br><span class="line"><span class="built_in">exit</span></span><br></pre></td></tr></table></figure><p>其中 600 是超时时间，单位秒，typora 为 md 格式编辑器。</p><p>编辑 <code>bashrc</code> 。</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">gedit .bashrc</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 在最后添加</span></span><br><span class="line"><span class="built_in">alias</span> ww=<span class="string">'sh /home/rachpt/document/ww.sh &amp;&amp; exit'</span></span><br><span class="line"><span class="comment"># 写上自己的路径，创建新的文件后自动关闭终端。ww 为自定义别名。</span></span><br></pre></td></tr></table></figure><div class="note success"><p>几点笔记：</p><ol><li>read 命令实现读取用后输入信息。</li><li>变量赋值后面直接使用“=”，前后不能空格。</li><li>使用前面的变量 使用$ + 变量名。</li><li>管道运算符<code>|</code> 将前面命令的输出输入下一个可以<strong>接受标准输入</strong>的命令。</li><li><code>cut</code> 实现分片。</li><li><code>#*/</code> 删除第一个<code>/</code> 以及其前面的部分。</li></ol></div>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;在 hexo 添加新的文章的方式通常使用 new 命令新建一个 post ，然后编辑保存，或者直接使用编辑器新建保存，写了一个 shell 脚本实现便利地写文章。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="linux" scheme="https://rachpt.me/categories/linux/"/>
    
    
      <category term="shell" scheme="https://rachpt.me/tags/shell/"/>
    
      <category term="hexo" scheme="https://rachpt.me/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>简单使用 FFmpeg 压制视频</title>
    <link href="https://rachpt.me/2018/03/12/a-simple-example-of-FFmpeg/"/>
    <id>https://rachpt.me/2018/03/12/a-simple-example-of-FFmpeg/</id>
    <published>2018-03-12T13:52:01.000Z</published>
    <updated>2018-03-20T10:02:25.795Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>使用 FFmpeg 2pass 简单改小视频分辨率，降低音视频码率，以用于移动设备观看。</p></blockquote><a id="more"></a><p>直接上命令：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i in.mp4 -s 854x480 -c:v libx264 -preset slow -b:v 500k -pass 1 -an -f mp4 -y /dev/null   <span class="comment">#windows 最后使用 NULL，linux 使用 /dev/null。抑制输出。</span></span><br><span class="line"><span class="comment"># -s 后面就是视频分辨率， b:v  b:a 后面是相应码率。</span></span><br><span class="line"><span class="comment"># &amp;&amp; \ 可以连接两句</span></span><br><span class="line">ffmpeg -i in.mp4 -s 854x480 -c:v libx264 -preset slow -b:v 500k -pass 2 -c:a aac -b:a 64k -strict -2 out.mp4</span><br><span class="line"><span class="comment"># strict -2 参数由ffmpeg版本决定，旧的要，否则报错。</span></span><br></pre></td></tr></table></figure><p>速度选项：</p><p>ultrafast<br>superfast<br>veryfast<br>faster<br>fast<br>medium – default preset<br>slow<br>slower<br>veryslow </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">-an   : 不编码音频</span><br><span class="line">-vcodec : 设置视频的编码，我这里使用的是x264</span><br><span class="line">-b   : 这个是码率</span><br><span class="line">-f   : 强制使用格式</span><br><span class="line">-y   : 自动输y确认</span><br></pre></td></tr></table></figure><p>一条命令：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nohup ffmpeg -i in.mkv -s 854x480 -c:v libx264 -preset slow -b:v 500k -pass 1 -an -f mp4 -y /dev/null &amp;&amp; \ffmpeg -i in.mkv -s 854x480 -c:v libx264 -preset slow -b:v 500k -pass 2 -c:a aac -b:a 64k -strict -2 out.mp4 &gt;/dev/null 2&gt;&amp;1 &amp;</span><br></pre></td></tr></table></figure><p>注意 <code>\</code> 后面不要空格，直接接 <code>ffmpeg</code> 命令。或者不要这个连接符 试试。</p><p><img src="https://ws1.sinaimg.cn/large/675bda05gy1fpavl4w4ymj20zm0frdoz.jpg" alt="pic-1"></p><p> <a href="https://stackoverflow.com/questions/32931685/the-encoder-aac-is-experimental-but-experimental-codecs-are-not-enabled" target="_blank" rel="noopener">参考内容1</a> ， <a href="http://trac.ffmpeg.org/wiki/Encode/H.264" target="_blank" rel="noopener">参考内容2</a>  。</p><div class="note success"><p>使用脚本批量压制：</p></div><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash </span></span><br><span class="line"></span><br><span class="line">filelist=$(find *.mp4 *.mkv *.avi ! -name <span class="string">"*_480p.mp4"</span> -a)</span><br><span class="line">OLDIFS=<span class="string">"<span class="variable">$IFS</span>"</span></span><br><span class="line">IFS=$<span class="string">"\n"</span></span><br><span class="line"><span class="keyword">for</span> filename <span class="keyword">in</span> *.mp4 *.mkv *.avi</span><br><span class="line"></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">nohup ffmpeg -i <span class="variable">$filename</span> -s 854x480 -c:v libx264 -preset fast -b:v 500k -pass 1 -an -f mp4 -y /dev/null &amp;&amp; \</span><br><span class="line">ffmpeg -i <span class="variable">$filename</span> -s 854x480 -c:v libx264 -preset fast -b:v 500k -pass 2 -c:a aac -b:a 64k -strict -2 <span class="string">"<span class="variable">$&#123;filename%.*&#125;</span>"</span>_480p.mp4 &gt;/dev/null 2&gt;&amp;1</span><br><span class="line"></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line">rm ffmpeg2pass*</span><br><span class="line"></span><br><span class="line">IFS=<span class="variable">$OLDIFS</span></span><br></pre></td></tr></table></figure><p><a href="http://lazybios.com/2013/07/flv-convert-to-mp3-shell-script/" target="_blank" rel="noopener">参考文档1</a> ， <a href="http://blog.csdn.net/weiyuefei/article/details/52704920" target="_blank" rel="noopener">参考文档2—nohup</a> ，<a href="http://linux.51yip.com/search/find" target="_blank" rel="noopener">参考文档—find</a> ，<a href="http://blog.csdn.net/reliveit/article/details/45271415" target="_blank" rel="noopener">参考文档—IFS</a> 。</p><p><code>find</code> 使用有无，具体修改如下。</p><div class="note success"><p>改进版，可以处理子目录下的所有 <code>mp4 mkv avi wmv</code>格式视频。</p></div><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash </span></span><br><span class="line">rm -f nohup.out</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ ! -d finish ];<span class="keyword">then</span></span><br><span class="line">  mkdir -p finish</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">filelist=$(find  \( -iname <span class="string">"*.mp4"</span> -o -iname <span class="string">"*.mkv"</span> -o -iname <span class="string">"*.avi"</span> -o -iname <span class="string">"*.wmv"</span> \) -a ! -name <span class="string">"*_480p.mp4"</span>)</span><br><span class="line">FOLDER=$(<span class="built_in">cd</span> `dirname <span class="variable">$0</span>`; <span class="built_in">pwd</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> filename <span class="keyword">in</span> <span class="variable">$filelist</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">tempname=<span class="variable">$&#123;filename##*/&#125;</span></span><br><span class="line">newfilename=<span class="variable">$&#123;tempname%.*&#125;</span></span><br><span class="line">nohup ffmpeg -i <span class="variable">$FOLDER</span><span class="variable">$&#123;filename#*.&#125;</span> -s 854x480 -c:v libx264 -preset fast -b:v 500k -pass 1 -an -f mp4 -y /dev/null &amp;&amp; ffmpeg -i <span class="variable">$FOLDER</span><span class="variable">$&#123;filename#*.&#125;</span> -s 854x480 -c:v libx264 -preset fast -b:v 500k -pass 2 -c:a aac -b:a 64k -strict -2 finish/<span class="string">"<span class="variable">$&#123;newfilename&#125;</span>"</span>_480p.mp4 &gt;/dev/null 2&gt;&amp;1</span><br><span class="line"></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">rm -f ffmpeg2pass*</span><br><span class="line"></span><br><span class="line"><span class="built_in">exit</span></span><br></pre></td></tr></table></figure><h1 id="裁剪"><a href="#裁剪" class="headerlink" title="裁剪"></a>裁剪</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -ss 00:00:00 -i in.mp4 -to 03:35:55 -vcodec copy -acodec copy -avoid_negative_ts 1 cutout.mp4</span><br></pre></td></tr></table></figure><p><code>-i</code> 需要在 <code>-to</code> 前面。</p><p><a href="http://blog.csdn.net/matrix_laboratory/article/details/53157383" target="_blank" rel="noopener">参考文章1</a>，<a href="http://trac.ffmpeg.org/wiki/Seeking" target="_blank" rel="noopener">参考2</a>。</p><p>附录：</p><p>mpv 几个快捷键</p><table><thead><tr><th style="text-align:center">键</th><th style="text-align:center">功能</th></tr></thead><tbody><tr><td style="text-align:center">&lt;</td><td style="text-align:center">逐帧 播放，上一帧</td></tr><tr><td style="text-align:center">&gt;</td><td style="text-align:center">逐帧 播放，下一帧</td></tr><tr><td style="text-align:center">M</td><td style="text-align:center">静音</td></tr><tr><td style="text-align:center">shift  +  &lt;–</td><td style="text-align:center">退一秒</td></tr><tr><td style="text-align:center">shift  +  –&gt;</td><td style="text-align:center">进一秒</td></tr></tbody></table><p><a href="http://blog.csdn.net/REIONE/article/details/52610581" target="_blank" rel="noopener">参考内容</a> 。</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;使用 FFmpeg 2pass 简单改小视频分辨率，降低音视频码率，以用于移动设备观看。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="linux" scheme="https://rachpt.me/categories/linux/"/>
    
    
      <category term="ffmpeg" scheme="https://rachpt.me/tags/ffmpeg/"/>
    
  </entry>
  
  <entry>
    <title>解决 mint 系统中 mendeley 无法使用 fcitx 输入中文</title>
    <link href="https://rachpt.me/2018/03/12/solve-the-problem-of-cannot-inputting-Chinese-in-mendeley/"/>
    <id>https://rachpt.me/2018/03/12/solve-the-problem-of-cannot-inputting-Chinese-in-mendeley/</id>
    <published>2018-03-12T02:46:14.000Z</published>
    <updated>2018-03-12T03:16:00.473Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>自从使用了 mendeley 软件后各种不顺，万恶之源就是在 mendeley 中无法使用 fcitx 输入中文。</p><p>一开始的解决办法是换用 ibus 输入法，万般无赖，离开了使用良久的 fcitx，转向 ibus。先是 ibus 的 sunpinyin 无法设置使用双拼，然后是升级 libpinyin ，最后是尝试升级 ibus 本身，最后以失败告终，白白浪费时间罢了。</p></blockquote><a id="more"></a><p>使用 ibus 最后连中文都无法输入，重启也无效。于是换回熟悉的 fcitx ，居然让我发现了解决 fcitx 与 mendeley 之间矛盾的方法。</p><p>最简单的解决办法：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo cp /usr/lib/x86_64-linux-gnu/qt5/plugins/platforminputcontexts/libfcitxplatforminputcontextplugin.so    /opt/mendeleydesktop/plugins/qt/plugins/platforminputcontexts/</span><br><span class="line"></span><br><span class="line"><span class="comment"># linux mint 18.3，基于 ubuntu 16.04</span></span><br></pre></td></tr></table></figure><p>参考 <a href="https://www.findhao.net/easycoding/2287#Ubuntu" target="_blank" rel="noopener">此文</a> （ubuntu），以及 <a href="https://www.zhihu.com/question/25517900" target="_blank" rel="noopener">知乎 链接</a> 。</p><p>拷贝  <code>libfcitxplatforminputcontextplugin.so</code> 到 mendeley 安装位置，debian和ubuntu的安装位置为：</p><p><code>/opt/mendeleydesktop/plugins/qt/plugins/platforminputcontexts/</code></p><p>重新启动mendeley即可发现中文可以输入了。</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">locate libfcitxplatforminputcontextplugin.so  </span><br><span class="line"><span class="comment">#找到系统中的libfcitxplatforminputcontextplugin.so</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#复制到 /opt/mendeleydesktop/plugins/qt/plugins/platforminputcontexts/ 目录下。</span></span><br></pre></td></tr></table></figure><div class="note success"><p>需要注意的是，在这之前，我使用新立得卸载了 ibus，不知怎么总是无法生效。</p><p>于是在<code>系统设置</code> –&gt; <code>输入法</code> 中 安装简体中文的语言支持，也就是同时装好 fcitx 和ibus 后，重启。</p><p>最后成功解决 fcitx 在 mengeley 中输入中文的问题。</p></div>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;自从使用了 mendeley 软件后各种不顺，万恶之源就是在 mendeley 中无法使用 fcitx 输入中文。&lt;/p&gt;
&lt;p&gt;一开始的解决办法是换用 ibus 输入法，万般无赖，离开了使用良久的 fcitx，转向 ibus。先是 ibus 的 sunpinyin 无法设置使用双拼，然后是升级 libpinyin ，最后是尝试升级 ibus 本身，最后以失败告终，白白浪费时间罢了。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="linux" scheme="https://rachpt.me/categories/linux/"/>
    
    
      <category term="memdeley" scheme="https://rachpt.me/tags/memdeley/"/>
    
  </entry>
  
  <entry>
    <title>努比亚 Z11 mini 换电池</title>
    <link href="https://rachpt.me/2018/03/11/change-battery-for-nubiaZ11mini/"/>
    <id>https://rachpt.me/2018/03/11/change-battery-for-nubiaZ11mini/</id>
    <published>2018-03-11T15:00:00.000Z</published>
    <updated>2018-03-15T14:12:45.201Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>年前就想换电池了，听说小米7快发布了，于是没换等mi7。现在看来mi7要等上一段时间了。所已淘宝买个电池换换，再战个半年。</p></blockquote><a id="more"></a><h1 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h1><ol><li>淘宝买电池：</li></ol><p>随便找的 <a href="https://detail.tmall.com/item.htm?id=560780453117&amp;_u=blud0h0f3a1" target="_blank" rel="noopener">淘宝电池</a> ，41块大洋。</p><p><img src="https://ww3.sinaimg.cn/large/675bda05gy1fp99vpnqm4j20o604xjs4.jpg" alt="pic1"></p><p>买来后东西挺多的，</p><p><img src="https://ww4.sinaimg.cn/large/675bda05ly1fp9axnshmyj20rs111wlm.jpg" alt="pic2"></p><ol><li>使用工具：</li></ol><p>只需要这三个工具 + 一个电吹风机。</p><p><img src="https://ww3.sinaimg.cn/large/675bda05ly1fp9ay183i4j20rs111wlt.jpg" alt="pic3"></p><p>刀子用来翘壳和电池的，需要十字螺丝刀。</p><h1 id="拆后壳"><a href="#拆后壳" class="headerlink" title="拆后壳"></a>拆后壳</h1><p>由于只有一个手机，所以没拍图片，网上找的图片修的。</p><ol><li>使用吹风机加热后壳，变烫后直接用刀子在下面位置撬开小口。</li></ol><p><img src="https://ww3.sinaimg.cn/large/675bda05gy1fp9a475kezj20go0b4wf7.jpg" alt="pic5"></p><p>注意避开卡扣位置。</p><p><img src="https://ww1.sinaimg.cn/large/675bda05gy1fp9a7ftgjjj20df0b4q44.jpg" alt="pic7"></p><p><img src="https://ww1.sinaimg.cn/large/675bda05gy1fp9a6mjw00j20ar09vt9f.jpg" alt="pic6"></p><p>需要注意的是，有如下三个地方使用了胶，特别是指纹区域附近，用卡片从 <strong>右侧</strong> 顶开胶。</p><p><img src="https://ww1.sinaimg.cn/large/675bda05gy1fp9aaft1qoj20hs0dc40j.jpg" alt="pic8"></p><p>小心指纹排线。</p><p><img src="https://ww2.sinaimg.cn/large/675bda05gy1fp9aayqvvzj20hs0dc75u.jpg" alt="pic9"></p><h1 id="拆开上板"><a href="#拆开上板" class="headerlink" title="拆开上板"></a>拆开上板</h1><p>使用螺丝刀拆掉摄像头所在区域的金属盖板，注意 保存螺丝。</p><p><img src="https://ww1.sinaimg.cn/large/675bda05gy1fp9a7ftgjjj20df0b4q44.jpg" alt="pic7"></p><p>从摄像头红圈上面部分翘起 盖板。</p><h1 id="拆电池"><a href="#拆电池" class="headerlink" title="拆电池"></a>拆电池</h1><p>首先拆掉指纹排线 btb ，然后是电池的 btb。</p><p><img src="https://ww3.sinaimg.cn/large/675bda05gy1fp9af3dzy6j20hs0dc40y.jpg" alt="pic10"></p><p>两块黄色区域就是固定电池的双面胶尾巴。</p><p><img src="https://ww3.sinaimg.cn/large/675bda05gy1fp9aht5t1qj20x70np1kx.jpg" alt="pic11"></p><p>用刀子或者 塑料片拆解电池（图片来自 优酷）。用吹风机加热电池四周以方便将其取下。</p><p><img src="https://ww3.sinaimg.cn/large/675bda05gy1fp9alnanplj20dc0dcq3z.jpg" alt="pic12"></p><p>如果使用刀子，注意电池后面的排线，别划到了。</p><p><strong>拆电池会使电池变形。</strong></p><h1 id="建议"><a href="#建议" class="headerlink" title="建议"></a>建议</h1><p>建议新电池先上排线 btb，开机测试，充电测试一下，没问题再关机装好还原。</p><p>最后，</p><p>附上拆下来的电池图。</p><p><img src="https://ww4.sinaimg.cn/large/675bda05ly1fp9aupqg2qj20rs111465.jpg" alt="pic-1"></p><p><img src="https://ww3.sinaimg.cn/large/675bda05ly1fp9av5shm8j20rs1117aa.jpg" alt="pic-2"></p><p>以及比较。</p><p><img src="https://ww3.sinaimg.cn/large/675bda05ly1fp9aw6w3x4j20k00zkq69.jpg" alt="pic-3"></p><p><img src="https://ww4.sinaimg.cn/large/675bda05ly1fp9awnvod9j20u01hcwj8.jpg" alt="piv-4"></p><p><img src="https://ww1.sinaimg.cn/large/675bda05ly1fp9awzto4ij20u01hc76e.jpg" alt="pic-5"></p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;年前就想换电池了，听说小米7快发布了，于是没换等mi7。现在看来mi7要等上一段时间了。所已淘宝买个电池换换，再战个半年。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="nubia" scheme="https://rachpt.me/tags/nubia/"/>
    
  </entry>
  
  <entry>
    <title>Linux 设置开机自动打开数字小键盘</title>
    <link href="https://rachpt.me/2018/03/11/linux-allow-numlock-on/"/>
    <id>https://rachpt.me/2018/03/11/linux-allow-numlock-on/</id>
    <published>2018-03-11T12:19:08.000Z</published>
    <updated>2018-03-11T12:40:17.136Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Linux mint 设置开机自动打开数字键盘锁 numlock。</p></blockquote><a id="more"></a><p>因为开机密码是用的数字，每次开机或者重起系统后输入密码前总是需要手动打开Numlock开关，很麻烦，还没有指示器。于是想到让其开机自动打开省事。</p><h1 id="linux-mint-设置"><a href="#linux-mint-设置" class="headerlink" title="linux mint 设置"></a>linux mint 设置</h1><p>对于linux mint ，在<code>系统设置</code>  –&gt; <code>登录窗口</code> –&gt; <code>设置</code> 中，有激活 numlock 开关，但是是不可用状态。</p><p>原因是需要安装一个软件： numlockx</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install numlockx <span class="comment">#安装好后，可能需要重起系统</span></span><br></pre></td></tr></table></figure><p><img src="https://ws1.sinaimg.cn/large/675bda05ly1fp95h52f3zj20hu0fbmxt.jpg" alt="pic"></p><p>设置好后，重起即可看到效果。</p><p>或则编辑 lightdm 的配置文件：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gedit /etc/lightdm/lightdm.conf</span><br></pre></td></tr></table></figure><p>添加新行</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[Seat:*]</span><br><span class="line">allow-guest=<span class="literal">false</span> <span class="comment">#不允许访客登录系统</span></span><br><span class="line">greeter-show-manual-login=<span class="literal">false</span> <span class="comment">#可以自己输入登录用户名</span></span><br><span class="line">greeter-hide-users=<span class="literal">true</span> <span class="comment">#隐藏用户列表</span></span><br><span class="line"></span><br><span class="line">greeter-setup-script=/usr/bin/numlockx on <span class="comment">#这一行自己加的，其他是系统设置时自动加的</span></span><br></pre></td></tr></table></figure><p>这样等同于在设置中激活numlock 。</p><p><a href="http://blog.csdn.net/ldl22847/article/details/8552894" target="_blank" rel="noopener">参考博文</a> 。</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;Linux mint 设置开机自动打开数字键盘锁 numlock。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="linux" scheme="https://rachpt.me/categories/linux/"/>
    
    
      <category term="numlock" scheme="https://rachpt.me/tags/numlock/"/>
    
  </entry>
  
  <entry>
    <title>几个关于 iBus 输入法的记录</title>
    <link href="https://rachpt.me/2018/03/10/notes-for-solve-ibus-error/"/>
    <id>https://rachpt.me/2018/03/10/notes-for-solve-ibus-error/</id>
    <published>2018-03-10T08:35:27.000Z</published>
    <updated>2018-03-10T16:27:36.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Mendely 的标注功能只支持 iBus 的中文输入，被迫从 Fcitx 改成 iBus。遇到一些问题，这里记录备忘。</p></blockquote><a id="more"></a><h1 id="Sunpinyin-无法打开首选项"><a href="#Sunpinyin-无法打开首选项" class="headerlink" title="Sunpinyin 无法打开首选项"></a>Sunpinyin 无法打开首选项</h1><p>Linux mint 切换输入法还是很简单的，Fictx 和 iBus 一键安装。<code>系统设置</code> –&gt; <code>语言</code> –&gt; <code>输入法</code> –&gt; <code>简体中文</code> 点击安装即可。切换需要重启系统。</p><p>在终端中输入 </p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ibus-setup <span class="comment">#设置 iBus</span></span><br></pre></td></tr></table></figure><p>点击 Sunpinyin 首选项，报错如下：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">"/usr/share//ibus-sunpinyin/setup/main.py"</span>, line 42, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    import ibus</span><br><span class="line">ImportError: No module named ibus</span><br></pre></td></tr></table></figure><p>提示没有 ibus 模块，网上搜到的解决办法如下：</p><p>从 <a href="https://ubuntu.pkgs.org/14.04/ubuntu-main-amd64/python-ibus_1.5.5-1ubuntu3_all.deb.html" target="_blank" rel="noopener">https://ubuntu.pkgs.org/14.04/ubuntu-main-amd64/python-ibus_1.5.5-1ubuntu3_all.deb.html</a> 下载deb安装即可。或则从 <a href="https://pan.lanzou.com/i0mhsqd" target="_blank" rel="noopener">这里</a> 下载。</p><div class="note default"><p>原地址:  <a href="http://forum.ubuntu.org.cn/viewtopic.php?f=86&amp;t=468324&amp;start=15" target="_blank" rel="noopener">ibus-setup-sunpinyin 无法打开设置</a> </p></div><h1 id="使用ibus-libpinyin"><a href="#使用ibus-libpinyin" class="headerlink" title="使用ibus-libpinyin"></a>使用ibus-libpinyin</h1><p>相比 ibus-pinyin ，ibus-libpinyin 更新一些。可能会更好。源码地址：</p><p><a href="https://github.com/libpinyin/ibus-libpinyin" target="_blank" rel="noopener">https://github.com/libpinyin/ibus-libpinyin</a> </p><p>安装很是费劲，最后更新到 <code>IBus 智能拼音 1.9.3</code> 后居然直接不能用来，使用 apt 安装的是1.7.3 （mint 18.3）。</p><p>安装参考 <a href="http://blog.csdn.net/u010053050/article/details/50246813" target="_blank" rel="noopener">在debian stretch上编译安装ibus-libpinyin(V1.7.3)过程记录</a> 。</p><div class="note success"><p>核心思想：</p><p>提示缺少啥依赖，就安装啥。</p><p>如 <code>name</code> 的依赖缺少，就找 <code>libname-dev</code> 的包。</p></div><p>其中 <code>libdb4.8-dev</code> 的部分 直接使用 <code>sudo apt install libdb5.3-dev</code>   解决的（mint 18.3）。</p><p>关于<strong>libpinyin</strong>， 在 <a href="https://github.com/libpinyin/libpinyin" target="_blank" rel="noopener">github</a> 上下源码编译 make 老是报错，最后直接 <a href="https://sourceforge.net/projects/libpinyin/files/" target="_blank" rel="noopener">在此</a> 下载现成的解决的。</p><p>libpinyin 使用<code>./autogen.sh --prefix=/usr</code> 加上路径安装。默认在 <code>/usr/local</code> 目录下，自带 share 。装错 直接 rm 删掉即可。</p><hr><p>好气，转好后居然不能用。</p><h1 id="软件能用坚决不要强行更新"><a href="#软件能用坚决不要强行更新" class="headerlink" title="软件能用坚决不要强行更新"></a>软件能用坚决不要强行更新</h1><p>ibus 有个下bug，不能一直显示输入法状态，于是想到更新软件版本解决，从源码编译，麻蛋，一个又一个的依赖缺失，最后make还是失败了。从deb安装，直接提示部分核心组件需要升级，😂，而核心组件的升级除非我升级底层系统。所以最后只好换回原来版本。</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;Mendely 的标注功能只支持 iBus 的中文输入，被迫从 Fcitx 改成 iBus。遇到一些问题，这里记录备忘。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="linux" scheme="https://rachpt.me/categories/linux/"/>
    
    
      <category term="ibus" scheme="https://rachpt.me/tags/ibus/"/>
    
  </entry>
  
  <entry>
    <title>next 主题设置</title>
    <link href="https://rachpt.me/2018/03/05/settings-for-next-theme/"/>
    <id>https://rachpt.me/2018/03/05/settings-for-next-theme/</id>
    <published>2018-03-05T11:37:08.000Z</published>
    <updated>2018-03-12T10:12:34.311Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>记录几个修改，方便以后升级主题后更新。</p></blockquote><p>目前 next 版本：<code>6.0.5</code> 。</p><a id="more"></a><h1 id="文章加密"><a href="#文章加密" class="headerlink" title="文章加密"></a>文章加密</h1><p>打开<code>themes-&gt;next-&gt;layout-&gt;_custom-&gt;head.swig</code>文件(默认路径)插入 JS 脚本：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="string">'&#123;&#123; page.password &#125;&#125;'</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span> (prompt(<span class="string">'请输入文章密码'</span>) !== <span class="string">'&#123;&#123; page.password &#125;&#125;'</span>)&#123;</span><br><span class="line">                alert(<span class="string">'密码错误！返回上页'</span>);</span><br><span class="line">                history.back();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)();</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://ws1.sinaimg.cn/large/675bda05gy1fp26pa99bnj20fy062wex.jpg" alt=""></p><p>使用：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: </span><br><span class="line">date: 2018-03-05 19:37:08</span><br><span class="line">tags:</span><br><span class="line">categories:</span><br><span class="line">top: #顶置</span><br><span class="line">password: #密码</span><br><span class="line">---</span><br></pre></td></tr></table></figure></p><p>没什么卵用，查看源码一切都暴露了。</p><h1 id="添加-DaoVoice"><a href="#添加-DaoVoice" class="headerlink" title="添加 DaoVoice"></a>添加 DaoVoice</h1><p>打开<code>themes-&gt;next-&gt;layout-&gt;_custom-&gt;head.swig</code>文件(默认路径)插入JS：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if theme.daovoice %&#125;</span><br><span class="line">  &lt;script&gt;</span><br><span class="line">  (function(i,s,o,g,r,a,m)&#123;i[&quot;DaoVoiceObject&quot;]=r;i[r]=i[r]||function()&#123;(i[r].q=i[r].q||[]).push(arguments)&#125;,i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=&quot;utf-8&quot;;m.parentNode.insertBefore(a,m)&#125;)(window,document,&quot;script&quot;,(&apos;https:&apos; == document.location.protocol ? &apos;https:&apos; : &apos;http:&apos;) + &quot;//widget.daovoice.io/widget/0f81ff2f.js&quot;,&quot;daovoice&quot;)</span><br><span class="line">  daovoice(&apos;init&apos;, &#123;</span><br><span class="line">      app_id: &quot;&#123;&#123;theme.daovoice_app_id&#125;&#125;&quot;</span><br><span class="line">    &#125;);</span><br><span class="line">  daovoice(&apos;update&apos;);</span><br><span class="line">  &lt;/script&gt;</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure><p>首先在 <a href="https://account.daocloud.io/signin" target="_blank" rel="noopener">daovoice</a> 注册账号，<a href="http://dashboard.daovoice.io/get-started?invite_code=0f81ff2f" target="_blank" rel="noopener">邀请码</a>是<code>0f81ff2f</code>,注册完成后会得到一个 app_id ：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># Online contact </span><br><span class="line">daovoice: true</span><br><span class="line">daovoice_app_id: &quot;刚才获得的 app_id&quot;</span><br></pre></td></tr></table></figure><h1 id="自定义css"><a href="#自定义css" class="headerlink" title="自定义css"></a>自定义css</h1><p>打开<code>themes/next/source/css/_custom/custom.styl</code> ：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">// Custom styles.</span><br><span class="line">// 主页文章添加阴影效果 （不利于移动端）</span><br><span class="line"><span class="comment">/* .post &#123;</span></span><br><span class="line"><span class="comment">   margin-top: 60px;</span></span><br><span class="line"><span class="comment">   margin-bottom: 60px;</span></span><br><span class="line"><span class="comment">   padding: 15px;</span></span><br><span class="line"><span class="comment">   -webkit-box-shadow: 0 0 5px rgba(202, 203, 203, .5);</span></span><br><span class="line"><span class="comment">   -moz-box-shadow: 0 0 5px rgba(202, 203, 204, .5);</span></span><br><span class="line"><span class="comment">  &#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">// 鼠标样式</span><br><span class="line">  * &#123;</span><br><span class="line">      <span class="attribute">cursor</span>: <span class="built_in">url</span>(<span class="string">"/images/sword2.ico"</span>),auto<span class="meta">!important</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-pseudo">:active</span> &#123;</span><br><span class="line">      <span class="attribute">cursor</span>: <span class="built_in">url</span>(<span class="string">"/images/sword1.ico"</span>),auto<span class="meta">!important</span></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">// DaoVoice 图标透明</span><br><span class="line">  <span class="selector-class">.daodream-launcher-button</span>, <span class="selector-class">.daodream-launcher-maximized</span>, <span class="selector-class">.daodream-launcher-with-initials</span> &#123;</span><br><span class="line">      <span class="attribute">opacity</span>:<span class="number">0.3</span>;</span><br><span class="line">      <span class="attribute">-moz-opacity</span>:<span class="number">0.3</span>;</span><br><span class="line">      <span class="attribute">opacity</span>: <span class="number">0.3</span>;</span><br><span class="line">  </span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-id">#daodream-launcher</span> &#123;</span><br><span class="line">      <span class="attribute">opacity</span>:<span class="number">0.1</span>;</span><br><span class="line">      <span class="attribute">-moz-opacity</span>:<span class="number">0.1</span>;</span><br><span class="line">      <span class="attribute">opacity</span>: <span class="number">0.1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-tag">div</span><span class="selector-class">.daodream-launcher-preview</span> &#123;</span><br><span class="line">      <span class="attribute">opacity</span>:<span class="number">0.9</span> <span class="meta">!important</span>;</span><br><span class="line">      <span class="attribute">-moz-opacity</span>:<span class="number">0.9</span> <span class="meta">!important</span>;</span><br><span class="line">      <span class="attribute">opacity</span>: <span class="number">0.9</span> <span class="meta">!important</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-id">#daodream-launcher</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">      <span class="attribute">opacity</span>:<span class="number">0.9</span> <span class="meta">!important</span>;</span><br><span class="line">      <span class="attribute">-moz-opacity</span>:<span class="number">0.9</span> <span class="meta">!important</span>;</span><br><span class="line">      <span class="attribute">opacity</span>: <span class="number">0.9</span> <span class="meta">!important</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.daodream-launcher-button</span><span class="selector-pseudo">:hover</span>, <span class="selector-class">.daodream-launcher-maximized</span><span class="selector-pseudo">:hover</span>, <span class="selector-class">.daodream-launcher-with-initials</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">      <span class="attribute">opacity</span>:<span class="number">0.9</span> <span class="meta">!important</span>;</span><br><span class="line">      <span class="attribute">-moz-opacity</span>:<span class="number">0.9</span> <span class="meta">!important</span>;</span><br><span class="line">      <span class="attribute">opacity</span>: <span class="number">0.9</span> <span class="meta">!important</span>;</span><br><span class="line">  &#125;</span><br><span class="line">// Valine 和 algolia 和 DaoDream 去除 Powered By </span><br><span class="line">  <span class="selector-tag">div</span><span class="selector-class">.info</span>, <span class="selector-tag">span</span><span class="selector-class">.algolia-powered</span>, <span class="selector-tag">div</span><span class="selector-class">.daodream-powered-by</span> &#123;</span><br><span class="line">     <span class="attribute">visibility</span>: hidden <span class="meta">!important</span>;</span><br><span class="line">     <span class="attribute">height</span>: <span class="number">0</span> <span class="meta">!important</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-tag">div</span><span class="selector-class">.txt-right</span>&#123;</span><br><span class="line">     <span class="attribute">visibility</span>: hidden <span class="meta">!important</span>;</span><br><span class="line">     <span class="attribute">height</span>: <span class="number">0</span> <span class="meta">!important</span>;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h1 id="统计"><a href="#统计" class="headerlink" title="统计"></a>统计</h1><h2 id="字数-amp-阅读时间"><a href="#字数-amp-阅读时间" class="headerlink" title="字数&amp;阅读时间"></a>字数&amp;阅读时间</h2><p>至hexo根目录，安装 <code>hexo-symbols-count-time</code> ：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo npm install hexo-symbols-count-time --save</span><br></pre></td></tr></table></figure><p>至 hexo 的 <code>_config.yml</code> 添加：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">symbols_count_time:</span><br><span class="line">  symbols: true</span><br><span class="line">  time: true</span><br><span class="line">  total_symbols: true</span><br><span class="line">  total_time: true</span><br></pre></td></tr></table></figure><p>至 next 主题 的  <code>_config.yml</code> 修改：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">symbols_count_time:</span><br><span class="line">  separated_meta: &lt;span style=&quot;color: red&quot;&gt;true&lt;/span&gt;</span><br><span class="line">  item_text_post: true</span><br><span class="line">  item_text_total: false</span><br><span class="line">  awl: 5</span><br><span class="line">  wpm: 200</span><br></pre></td></tr></table></figure><p> <code>hexo-reading-time</code> 和 <code>hexo-worcount</code> 已经弃用。</p><h2 id="站点访问量"><a href="#站点访问量" class="headerlink" title="站点访问量"></a>站点访问量</h2><p>直接配置 next 主题：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">busuanzi_count:</span><br><span class="line">  enable: &lt;span style=&quot;color: red&quot;&gt;true&lt;?span&gt;</span><br><span class="line">  total_visitors: true</span><br><span class="line">  total_visitors_icon: user</span><br><span class="line">  total_views: true</span><br><span class="line">  total_views_icon: eye</span><br><span class="line">  post_views: true</span><br><span class="line">  post_views_icon: eye</span><br></pre></td></tr></table></figure><p>或者自己改文件：</p><p>在 <code>/home/rachpt/blog/themes/next/layout/_partials/footer.swig</code> 最后添加代码：</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"&gt;&lt;/script&gt;</span><br><span class="line">&lt;<span class="selector-tag">div</span>&gt;</span><br><span class="line">  &lt;i class="fa fa-user-md"&gt;&lt;/i&gt; </span><br><span class="line">  本站总访问量：&lt;span id="busuanzi_value_site_pv"&gt;&lt;/span&gt; &amp;nbsp;| &amp;nbsp;</span><br><span class="line">  &lt;i class="fa fa-eye"&gt;&lt;/i&gt; </span><br><span class="line">  本站访客数：&lt;span id="busuanzi_value_site_uv"&gt;&lt;/span&gt; </span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure><h1 id="头像旋转"><a href="#头像旋转" class="headerlink" title="头像旋转"></a>头像旋转</h1><p>在<code>\themes\next\source\css\_common\components\sidebar\sidebar-author.styl</code>，里面添加如下代码：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">  <span class="comment">/* 鼠标经过头像旋转360度 */</span></span><br><span class="line">  <span class="selector-tag">-webkit-transition</span>: <span class="selector-tag">-webkit-transform</span> 1<span class="selector-class">.0s</span> <span class="selector-tag">ease-out</span>;</span><br><span class="line">  <span class="selector-tag">-moz-transition</span>: <span class="selector-tag">-moz-transform</span> 1<span class="selector-class">.0s</span> <span class="selector-tag">ease-out</span>;</span><br><span class="line">  <span class="selector-tag">transition</span>: <span class="selector-tag">transform</span> 1<span class="selector-class">.0s</span> <span class="selector-tag">ease-out</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 鼠标经过头像旋转360度 */</span></span><br><span class="line"><span class="selector-tag">img</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">-webkit-transform</span>: <span class="built_in">rotateZ</span>(360deg);</span><br><span class="line">  <span class="attribute">-moz-transform</span>: <span class="built_in">rotateZ</span>(360deg);</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotateZ</span>(360deg);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Z 轴旋转动画 */</span></span><br><span class="line">@-<span class="keyword">webkit</span>-<span class="keyword">keyframes</span> play &#123;</span><br><span class="line">  0% &#123;</span><br><span class="line">    <span class="attribute">-webkit-transform</span>: <span class="built_in">rotateZ</span>(0deg);</span><br><span class="line">  &#125;</span><br><span class="line">  100% &#123;</span><br><span class="line">    <span class="attribute">-webkit-transform</span>: <span class="built_in">rotateZ</span>(-360deg);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">@-<span class="keyword">moz</span>-<span class="keyword">keyframes</span> play &#123;</span><br><span class="line">  0% &#123;</span><br><span class="line">    <span class="attribute">-moz-transform</span>: <span class="built_in">rotateZ</span>(0deg);</span><br><span class="line">  &#125;</span><br><span class="line">  100% &#123;</span><br><span class="line">    <span class="attribute">-moz-transform</span>: <span class="built_in">rotateZ</span>(-360deg);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">@<span class="keyword">keyframes</span> play &#123;</span><br><span class="line">  0% &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotateZ</span>(0deg);</span><br><span class="line">  &#125;</span><br><span class="line">  100% &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotateZ</span>(-360deg);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://ws1.sinaimg.cn/large/675bda05ly1fp29t6t0eej20k40jpmzq.jpg" alt=""></p><h1 id="添加-“本文结束”"><a href="#添加-“本文结束”" class="headerlink" title="添加 “本文结束”"></a>添加 “本文结束”</h1><p>创建。在路径 <code>\themes\next\layout\_macro</code> 中新建 <code>post-end-tag.swig</code> 文件,并添加以下内容：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    &#123;% if not is_index %&#125;</span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"text-align:center;color: #ccc;font-size:14px;"</span>&gt;</span>&#123;#</span><br><span class="line">          #&#125;&#123;&#123; __(theme.post_end_tag.contents) &#125;&#125;&#123;#</span><br><span class="line">        #&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    &#123;% endif %&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>修改。接着打开<code>\themes\next\layout\_macro\post.swig</code>文件，在<code>post-body</code> 之后， <code>post-footer</code> 之前添加如下画红色部分代码</p><p><img src="https://ws1.sinaimg.cn/large/675bda05ly1fp28fd6w34j20g80bywg2.jpg" alt=""></p><p>参数。<code>主题配置文件</code>（<code>theme/next/_config.yml</code>)末尾添加：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">post_end_tag:</span><br><span class="line">  enabled: true</span><br><span class="line">  contents: ---------本文结束&lt;i class=&quot;fa fa-paw&quot;&gt;&lt;/i&gt;感谢阅读---------</span><br></pre></td></tr></table></figure><p>内容可以自定义。本人参考 <a href="https://segmentfault.com/a/1190000009544924#articleHeader6" target="_blank" rel="noopener">hexo的next主题个性化配置教程</a> 修改。</p><h1 id="顶置"><a href="#顶置" class="headerlink" title="顶置"></a>顶置</h1><p>修改 <code>hero-generator-index</code> 插件，把文件：<code>node_modules/hexo-generator-index/lib/generator.js</code> 内的代码替换为：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">'use strict'</span>;</span><br><span class="line"><span class="keyword">var</span> pagination = <span class="built_in">require</span>(<span class="string">'hexo-pagination'</span>);</span><br><span class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span>(<span class="params">locals</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> config = <span class="keyword">this</span>.config;</span><br><span class="line">  <span class="keyword">var</span> posts = locals.posts;</span><br><span class="line">    posts.data = posts.data.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(a.top &amp;&amp; b.top) &#123; <span class="comment">// 两篇文章top都有定义</span></span><br><span class="line">            <span class="keyword">if</span>(a.top == b.top) <span class="keyword">return</span> b.date - a.date; <span class="comment">// 若top值一样则按照文章日期降序排</span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">return</span> b.top - a.top; <span class="comment">// 否则按照top值降序排</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(a.top &amp;&amp; !b.top) &#123; <span class="comment">// 以下是只有一篇文章top有定义，那么将有top的排在前面（这里用异或操作居然不行233）</span></span><br><span class="line">            <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(!a.top &amp;&amp; b.top) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span> b.date - a.date; <span class="comment">// 都没定义按照文章日期降序排</span></span><br><span class="line">    &#125;);</span><br><span class="line">  <span class="keyword">var</span> paginationDir = config.pagination_dir || <span class="string">'page'</span>;</span><br><span class="line">  <span class="keyword">return</span> pagination(<span class="string">''</span>, posts, &#123;</span><br><span class="line">    perPage: config.index_generator.per_page,</span><br><span class="line">    layout: [<span class="string">'index'</span>, <span class="string">'archive'</span>],</span><br><span class="line">    format: paginationDir + <span class="string">'/%d/'</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">      __index: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>使用：（数值越大文章越靠前）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: </span><br><span class="line">date: 2018-03-05 19:37:08</span><br><span class="line">tags:</span><br><span class="line">categories:</span><br><span class="line">top: #顶置</span><br><span class="line">---</span><br></pre></td></tr></table></figure><h1 id="添加侧边栏音乐播单"><a href="#添加侧边栏音乐播单" class="headerlink" title="添加侧边栏音乐播单"></a>添加侧边栏音乐播单</h1><ol><li><p>下载所需文件：</p><p>​    <a href="https://pan.lanzou.com/i0mylqd" target="_blank" rel="noopener">长显+连续播放+右键音量控制</a> OR</p><p>​    <a href="https://pan.lanzou.com/i0mylre" target="_blank" rel="noopener">长隐+连续播放</a> </p><p>​        备用下载<a href="http://pan.baidu.com/s/1slyR4yp" target="_blank" rel="noopener">播放器</a> 密码：oznd</p></li><li><p>设置 hexo 配置文件 <code>_config.yml</code> :</p></li></ol><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">skip_render:</span> </span><br><span class="line"><span class="bullet">    -</span> <span class="number">404.</span><span class="string">html</span>  <span class="comment">#跳过404页面</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">static/**</span> <span class="comment">#跳过static目录下的所有内容，注意是两个*号。</span></span><br></pre></td></tr></table></figure><p>先复制 下载文件中的 四个文件夹至 <code>source/static</code> 。然后将 <code>_my</code> 文件夹移动到 <code>/themes/next/layout</code> 。</p><ol><li>使所有页面都能播放，在 <code>/themes/next/layout/_layout.swig</code> 的 <code>&lt;/body&gt;</code> 前添加</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% include &apos;_my/audio.swig&apos; %&#125;</span><br></pre></td></tr></table></figure><p><img src="https://ws1.sinaimg.cn/large/675bda05gy1fpa6b0p565j20dp04674f.jpg" alt="pic-1"></p><ol><li>至<code>/themes/next/_config.yml</code> 主题配置文件末尾添加：</li></ol><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># music</span></span><br><span class="line"><span class="attr">audio:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  sources:</span> <span class="string">[</span></span><br><span class="line">  <span class="string">&#123;</span> <span class="attr">title:</span> <span class="string">'....'</span><span class="string">,</span></span><br><span class="line"><span class="attr">    artist:</span> <span class="string">'....'</span><span class="string">,</span> </span><br><span class="line"><span class="attr">    mp3:</span> <span class="string">'......mp3'</span><span class="string">,</span> </span><br><span class="line"><span class="attr">    cover:</span> <span class="string">'.....jpg'</span> <span class="string">&#125;,</span></span><br><span class="line"></span><br><span class="line">  <span class="string">&#123;</span> <span class="attr">title:</span> <span class="string">'.....'</span><span class="string">,</span></span><br><span class="line"><span class="attr">    artist:</span> <span class="string">'......'</span><span class="string">,</span></span><br><span class="line"><span class="attr">    mp3:</span> <span class="string">'.......mp3'</span><span class="string">,</span></span><br><span class="line"><span class="attr">    cover:</span> <span class="string">'.....jpg'</span> <span class="string">&#125;</span></span><br><span class="line">  <span class="string">]</span></span><br></pre></td></tr></table></figure><p>其他：</p><p>注释掉 <code>source/static/js/player.js</code>的<code>$(&quot;div.ssBtn&quot;).click()</code> ，播放器就不会一直弹出。</p><p><img src="https://ws1.sinaimg.cn/large/675bda05ly1fpa6te342gj20hr06mab1.jpg" alt="pic-2"></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">source/<span class="keyword">static</span>/js/player.js</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> setProgress = <span class="function"><span class="keyword">function</span> (<span class="params">value</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> currentSec = <span class="built_in">parseInt</span>(value % <span class="number">60</span>) &lt; <span class="number">10</span> ? <span class="string">'0'</span> + <span class="built_in">parseInt</span>(value % <span class="number">60</span>) : <span class="built_in">parseInt</span>(value % <span class="number">60</span>),</span><br><span class="line">        ratio = value / audio.duration * <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line">    $(<span class="string">'.timer'</span>).html(<span class="built_in">parseInt</span>(value / <span class="number">60</span>) + <span class="string">':'</span> + currentSec);</span><br><span class="line">+   localStorage.time = value <span class="comment">//储音乐的播放状态</span></span><br><span class="line">+   localStorage.song = currentTrack <span class="comment">//储音乐的播放状态</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>sessionStorage.autoPlay = &quot;true&quot;</code> 控制自动播放。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> FirstLoad = <span class="function"><span class="keyword">function</span> (<span class="params">i, time</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (i == <span class="literal">undefined</span>) &#123;</span><br><span class="line">        i = <span class="number">0</span></span><br><span class="line">        currentTrack = <span class="number">0</span></span><br><span class="line">        shuffleIndex = <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">    loadMusic(i)</span><br><span class="line">    <span class="keyword">if</span> (time) &#123;</span><br><span class="line">        audio.currentTime = time</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (localStorage.volume) &#123;</span><br><span class="line">        audio.volume = localStorage.volume</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (sessionStorage.autoPlay == <span class="literal">undefined</span>) &#123;</span><br><span class="line">        sessionStorage.autoPlay = <span class="string">"true"</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>设置 <a href="http://saili.science/2017/04/02/github-for-win/#h5palyer" target="_blank" rel="noopener">参考</a> 。</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;记录几个修改，方便以后升级主题后更新。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;目前 next 版本：&lt;code&gt;6.0.5&lt;/code&gt; 。&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>next 主题使用笔记——标签</title>
    <link href="https://rachpt.me/2018/03/05/test/"/>
    <id>https://rachpt.me/2018/03/05/test/</id>
    <published>2018-03-05T09:45:01.000Z</published>
    <updated>2018-03-06T10:34:07.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>记录 hexo-theme-next 一些使用技巧，自用。 版本要求 <code>0.4.5+</code> 。</p></blockquote><a id="more"></a><h1 id="引用文字居中"><a href="#引用文字居中" class="headerlink" title="引用文字居中"></a>引用文字居中</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% cq %&#125; 文本居中引用&#123;% endcq %&#125;   #简洁的写法 cq = centerquote</span><br></pre></td></tr></table></figure><blockquote class="blockquote-center"><p>文本居中引用</p></blockquote><h1 id="大图片"><a href="#大图片" class="headerlink" title="大图片"></a>大图片</h1><blockquote><p>图片将自动扩大 26%。</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% fi /image-url, alt, title %&#125;  # fi = fullimage</span><br></pre></td></tr></table></figure><span itemprop="image" itemscope="" itemtype="http://schema.org/ImageObject"><img itemprop="url image" src="https://ws1.sinaimg.cn/large/675bda05ly1fp23avm2ngj20uk0kktbj.jpg" class="full-image" alt="alt" title="title"><meta itemprop="width" content="auto"><meta itemprop="height" content="auto"></span><h1 id="note-标签"><a href="#note-标签" class="headerlink" title="note 标签"></a>note 标签</h1><blockquote><p><a href="http://getbootstrap.com/" target="_blank" rel="noopener">http://getbootstrap.com/</a></p></blockquote><p>至next主题配置文件上设置：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">note:</span></span><br><span class="line"><span class="attr">  style:</span> <span class="string">simple</span> <span class="comment"># modern # flat # disabled</span></span><br><span class="line"><span class="attr">  icons:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">  border_radius:</span> <span class="number">3</span></span><br><span class="line">  <span class="comment"># Offset lighter of background in % for modern and flat styles (modern: -12 | 12; flat: -18 | 6).</span></span><br><span class="line">  <span class="comment"># Offset also applied to label tag variables. This option can work with disabled note tag.</span></span><br><span class="line"><span class="attr">  light_bg_offset:</span> <span class="number">0</span></span><br></pre></td></tr></table></figure><p>使用：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note class_name %&#125; Content (支持部分 md 格式) &#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">class_name 使用：</span><br><span class="line">    default</span><br><span class="line">    primary</span><br><span class="line">    success</span><br><span class="line">    info</span><br><span class="line">    warning</span><br><span class="line">    danger</span><br></pre></td></tr></table></figure><div class="note default"><p>default 样式 (支持部分 md 格式) </p></div><div class="note primary"><p>primary 样式 (支持部分 md 格式) </p></div><div class="note success"><p>success 样式 (支持部分 md 格式) </p></div><div class="note info"><p>info 样式 (支持部分 md 格式) </p></div><div class="note warning"><p>warning 样式 (支持部分 md 格式) </p></div><div class="note danger"><p>danger 样式 (支持部分 md 格式) </p></div><h1 id="插入视频"><a href="#插入视频" class="headerlink" title="插入视频"></a>插入视频</h1><p>使用：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;video src=&apos; &apos; type=&apos;video/mp4&apos; controls=&apos;controls&apos;  width=&apos;100%&apos; height=&apos;100%&apos;&gt;</span><br><span class="line">&lt;/video&gt;</span><br></pre></td></tr></table></figure><video src="http://upload.rachpt.top/%E7%B4%AB%E8%8F%98%E5%8D%8A%E5%9C%86%E5%B9%BF%E5%9C%BA%E7%9A%84%E4%B8%80%E5%A4%A9_x264.mp4 " type="video/mp4" controls="controls" width="100%" height="100%"><br></video><h1 id="音乐"><a href="#音乐" class="headerlink" title="音乐"></a>音乐</h1><p>使用： <a href="http://saili.science/2017/05/30/music/" target="_blank" rel="noopener">http://saili.science/2017/05/30/music/</a> </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;audio controls=&quot;controls&quot; playsinline=&quot;&quot; webkit-playsinline=&quot;&quot;&gt;  </span><br><span class="line">&lt;source src=&quot;http://other.web.nf01.sycdn.kuwo.cn/resource/n2/40/14/3065311430.mp3&quot; type=&quot;audio/mpeg&quot;&gt;  &lt;/audio&gt;</span><br></pre></td></tr></table></figure><audio controls="controls" playsinline="" webkit-playsinline="">  <source src="http://other.web.nf01.sycdn.kuwo.cn/resource/n2/40/14/3065311430.mp3" type="audio/mpeg">  </audio><h1 id="Tabs-标签"><a href="#Tabs-标签" class="headerlink" title="Tabs 标签"></a>Tabs 标签</h1><p>至 next 主题配置中启用：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Tabs tag.</span></span><br><span class="line"><span class="attr">tabs:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span><span class="string">&gt;</span></span><br><span class="line"><span class="string"></span><span class="attr">  transition:</span></span><br><span class="line"><span class="attr">    tabs:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">    labels:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  border_radius:</span> <span class="number">0</span></span><br></pre></td></tr></table></figure><p>使用：</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tabs 选项卡[标题], 2 %&#125;</span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**这是选项卡 1**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**我是选项卡 2**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**就是选项卡 3 了**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure><p><code>, 2</code> 从第二个开始。</p><div class="tabs" id="选项卡[标题]"><ul class="nav-tabs"><li class="tab"><a href="#选项卡[标题]-1">选项卡[标题] 1</a></li><li class="tab active"><a href="#选项卡[标题]-2">选项卡[标题] 2</a></li><li class="tab"><a href="#选项卡[标题]-3">选项卡[标题] 3</a></li></ul><div class="tab-content"><div class="tab-pane" id="选项卡[标题]-1"><p><strong>这是选项卡 1 </strong></p></div><div class="tab-pane active" id="选项卡[标题]-2"><p><strong>我是选项卡 2 </strong></p></div><div class="tab-pane" id="选项卡[标题]-3"><p><strong>就是选项卡 3 了 </strong></p></div></div></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tabs Fifth unique name %&#125;</span><br><span class="line">&lt;!-- tab @text-width --&gt;</span><br><span class="line">**This is Tab 1.**</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&lt;!-- tab @amazon --&gt;</span><br><span class="line">**This is Tab 2.**</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&lt;!-- tab @bold --&gt;</span><br><span class="line">**This is Tab 3.**</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure><div class="tabs" id="fifth-unique-name"><ul class="nav-tabs"><li class="tab active"><a href="#fifth-unique-name-1"><i class="fa fa-text-width" style="text-align: center;"></i></a></li><li class="tab"><a href="#fifth-unique-name-2"><i class="fa fa-amazon" style="text-align: center;"></i></a></li><li class="tab"><a href="#fifth-unique-name-3"><i class="fa fa-bold" style="text-align: center;"></i></a></li></ul><div class="tab-content"><div class="tab-pane active" id="fifth-unique-name-1"><p><strong>This is Tab 1.</strong></p></div><div class="tab-pane" id="fifth-unique-name-2"><p><strong>This is Tab 2.</strong></p></div><div class="tab-pane" id="fifth-unique-name-3"><p><strong>This is Tab 3.</strong></p></div></div></div><p><a href="https://almostover.ru/2016-01/hexo-theme-next-test/" target="_blank" rel="noopener">https://almostover.ru/2016-01/hexo-theme-next-test/</a></p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;记录 hexo-theme-next 一些使用技巧，自用。 版本要求 &lt;code&gt;0.4.5+&lt;/code&gt; 。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>新博客地址</title>
    <link href="https://rachpt.me/2018/03/03/my-new-blog/"/>
    <id>https://rachpt.me/2018/03/03/my-new-blog/</id>
    <published>2018-03-03T07:57:02.000Z</published>
    <updated>2018-03-05T03:45:59.695Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a><p>已经对 wordpress 无止境的更新无语了，慢慢迁移至 Github Pages &amp; Coding Pages。</p><!--more--><p>永久地址： <a href="https://rachpt.github.io" target="_blank" rel="noopener">https://rachpt.github.io</a> ，已经重定向至 <a href="https://rachpt.me">https://rachpt.me</a> 。</p><p><a href="https://rachpt.coding.me" target="_blank" rel="noopener">https://rachpt.coding.me</a> ，已经重定向至 <a href="https://blog.rachpt.me" target="_blank" rel="noopener">https://blog.rachpt.me</a> 。</p><p>&nbsp;</p><p><span style="text-decoration: underline;"><del>以后有可能 重定向到这个域名。</del></span></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;已经对 wordpress 无止境的更新无语了，慢慢迁移至 Github Pages &amp;amp; Coding Pages。&lt;/p&gt;
&lt;!--more--&gt;
&lt;p&gt;永久地址： &lt;a href=&quot;https://rachpt.github.
      
    
    </summary>
    
      <category term="随笔" scheme="https://rachpt.me/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
  </entry>
  
  <entry>
    <title>Gimp 简单使用笔记</title>
    <link href="https://rachpt.me/2018/03/03/gimp-simple-notes/"/>
    <id>https://rachpt.me/2018/03/03/gimp-simple-notes/</id>
    <published>2018-03-03T03:40:31.000Z</published>
    <updated>2018-03-03T03:52:09.631Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>记录一些 <code>Gimp</code> 常用操作，力求简洁明了。</p></blockquote><a id="more"></a><h1 id="画矩形框"><a href="#画矩形框" class="headerlink" title="画矩形框"></a>画矩形框</h1><ol><li>选用<code>矩形选择工具 (快捷键R)</code> ，选区。</li><li>编辑 –&gt; 勾画选区。</li></ol><p><img src="https://ws1.sinaimg.cn/large/675bda05gy1fozhinkhhdj20c609cjs9.jpg" alt="pic1"></p><p><img src="https://ws1.sinaimg.cn/large/675bda05gy1fozhjbusouj20ao0g1gmw.jpg" alt="pic2"></p><hr><h1 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h1>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;记录一些 &lt;code&gt;Gimp&lt;/code&gt; 常用操作，力求简洁明了。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="教程" scheme="https://rachpt.me/categories/%E6%95%99%E7%A8%8B/"/>
    
    
      <category term="gimp" scheme="https://rachpt.me/tags/gimp/"/>
    
  </entry>
  
  <entry>
    <title>Pycharm please specify a different SDK name</title>
    <link href="https://rachpt.me/2018/03/03/pycharm-please-specify-a-different-SDK-name/"/>
    <id>https://rachpt.me/2018/03/03/pycharm-please-specify-a-different-SDK-name/</id>
    <published>2018-03-03T03:08:00.000Z</published>
    <updated>2018-03-03T03:52:51.146Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>设置 pycharm 保存时， 报错：pycharm please specify a different SDK name ，网上找到解决办法，这里记录一下，备用。</p></blockquote><a id="more"></a><h1 id="产生原因"><a href="#产生原因" class="headerlink" title="产生原因"></a>产生原因</h1><p>之前创建过两个相同的 project。比如先建一个 project，觉得不好，删掉再建，手残有时刚刚删掉的project，就会出现这个错误。两个<em>现有</em>虚拟环境具有相同的名称，于是无法设置解释器。</p><h1 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h1><p>打开 <code>settings</code> ，在<code>project interpreyer</code> 里面，<code>show all</code> 。</p><p><img src="https://ws1.sinaimg.cn/large/675bda05gy1fozguvqakhj20sk0iw405.jpg" alt="pycharm settings"></p><p>选择有红色警示符的项，删掉即可。</p><p><img src="https://ws1.sinaimg.cn/large/675bda05gy1fozh1bwu72j20i40fnt8u.jpg" alt="pycharm delete"></p><hr><blockquote><p>参考： <a href="https://ws1.sinaimg.cn/large/675bda05gy1fozh1bwu72j20i40fnt8u.jpg" target="_blank" rel="noopener">PyCharm 2017.3 Help</a> 。</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;设置 pycharm 保存时， 报错：pycharm please specify a different SDK name ，网上找到解决办法，这里记录一下，备用。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Windows  使用笔记-01</title>
    <link href="https://rachpt.me/2018/01/27/windows-note-01/"/>
    <id>https://rachpt.me/2018/01/27/windows-note-01/</id>
    <published>2018-01-27T05:32:04.000Z</published>
    <updated>2018-03-05T04:17:08.692Z</updated>
    
    <content type="html"><![CDATA[<p>首先得知道windows这玩意儿是啥。或许很多人已将将windows和PC电脑画等号了，这显然是不对的。windows是巨硬推出的一款带图形界面的操作系统，我们买的电脑或者笔记本大部分钱用于硬件上，几户所有预装系统的笔记本都是最便宜定置性最差的windows家庭版（或则家庭中文版）。于是逻辑上而言，装系统将是使用windows的第一步，对于小白用户，老老实实用你的windows家庭版（或许你都不知道自己的系统是啥，和别人的有啥区别，囧）。</p><a id="more"></a><p>目前而言，可以考虑安装的windows有三个 大版本：win7,win8.1,win10。win7应该很快进入与xp一样的停止支持的状态，而win8.1真心不适合桌面平台，win10将是我最先推荐的。现在几户所有的电脑都是64位的处理器了，除非老爷机。（对于win10 右键<code>此电脑</code>，<code>属性</code> 即可看到如下所示<code>信息页面</code>，或则在 <code>资源管理器</code> 中右键点击 <code>属性</code>）</p><p><img src="https://ws1.sinaimg.cn/large/675bda05gy1fp1tfwit30j20sa0goaba.jpg" alt="windows-pic1"></p><p>32位windows系统最大只支持3.6G左右的内存，如果你有4G或以上内存，请不要考虑32位系统。32位系统也有它自己的优点，小就是一个，32位系统可以节省系统安装空间30%-40%，32位系统当然是不支持64位应用程序的，同一个软件32位版与64版运行效率相当，能用64的我当然是推荐使用64的。</p><p>如果你是考虑兼容性，在win7 与win10之间无法决则，我几乎可以告诉你兼容性几乎不用考虑，除非你要使用老掉牙的旧软件，或者是某些特别偏的久久未更新的行业（小众）软件。win10 几乎支持能用到的所有软件。</p><p>如果你还是要使用win7，那么没必要非旗舰版不可，对于普通用户而言可能专业版就很不错了，一是安装体积较旗舰版小上不少，再则你永远用不到的旗舰版的功能也没必要占用你本来就不多的硬件资源。</p><p>win8.1 我们直接忽略，一是安装体积较win7、10都大上不少（是win10的1.5倍），开始屏真的不适合桌面用户，还有那厚厚的程序边框（用过win10的窄边后你会觉得8.1很丑）[我会告诉你有软件可以修改，但是还是没有win10一个像素窄]。</p><p> 至于win10，如果你是变形本，比如surface之类有触控屏的笔记本，并且想体验完整的windows服务，那么pro专业版或者enterprise企业版将是你最好的选择，教育版和企业版类似。对于普通user而言pro专业版就够了。家庭版没有本地策略组，很多必要的功能没有，所有强烈建议不要使用家庭版系统（谁用谁知道：开机，尼玛，正在安装系统更新，重启，靠，更新失败，正在回滚，重启；关键是这是一个循环，以后还会这样）。</p><p>对于普通笔记本与台式机，如果你不用巨硬的uwp应用，并且不是edge浏览器的忠实粉丝（谁会用这玩意儿啊，体验太差！）。那么 <strong>windows 10 LTSB 企业长期服务支持版</strong> 将是最好的选择。推荐理由如下：</p><ul><li>原生无应用商店哪些没卵用的东西；</li><li>无edge浏览器，有IE，不用考虑兼容性，有些网银必须这货才能用；</li><li><p>更新少，稳定性高（当然可以设置禁用自动更新）。<br>LTSB目前有两个分支：ltsb 2015 和 ltsb 2016（这两个是独立维护不一样的）。推荐笔记本使用2016，台式机使用2015。理由：</p></li><li><p>2016 系统自带wifi热点（<em>你非要用猎豹wifi，我无话可说</em>）与护眼模式（<em>第三方软件也可以实现</em>），这两点笔记本比较需要。同时开始菜单较2015版有一点改变，16的更方便些。</p></li><li>2015 的软件兼容性可能更好，比如好用的<code>KClock</code>只能在2015上用，2016及其以上不行。[<code>win + x</code>]和2016有区别，个人觉得2015的更方便。<br>至于你一直关心的激活，除win7外，都只能 KMS激活180天（激活软件都贴心的做了定时重新激活，所以一次激活后你就不用管了，至于软件文末给<code>链接</code>），系统镜像下载，推荐<code>百度 i tell you</code> 或则记住这个 <a href="http://msdn.itellyou.cn/" target="_blank" rel="noopener">http://msdn.itellyou.cn/</a> 。</li></ul><p><img src="https://ws1.sinaimg.cn/large/675bda05gy1fp1thecmcdj20vl0gcgno.jpg" alt="windows-pic2"></p><p>点击详情，复制 <code>ed2k</code> 链接至百度云离线下载，然后使用工具从百度网盘下载即可得到系统镜像文件。</p><p>推荐使用U盘全新安装。win10 的系统可以直接挂载镜像复制里面的全部内容至一个格式化的U盘即可完成启动盘的制作。无需向win7一样必须使用工具刻录制作启动盘。如果你不放心，可以使用这个免费的工具 <code>Rufus</code> <a href="http://rufus.akeo.ie/" target="_blank" rel="noopener">http://rufus.akeo.ie/</a> 。U盘格式一般使用fat32即可，其他的NTFS、exfat也行。</p><p><strong>一本正经地系统安装开始</strong>。</p><p>开始前备份好需要的文件。如果你有固态硬盘，推荐固态硬盘不要分区（自己百度分区脑补），机械的建议不要分太多，两个不能再多了。</p><p>可能还有UEFI引导是大多数新手的困惑，UEFI引导需要配合GPT分区（如果有固态，这个是必须的！才能发挥固态的优势）。能使用UEFI则尽量使用。如果安装中发现 以前分区是MBR格式，如果无重要文件可以全盘格式化变成GPT格式分区，如果有重要分区不能格式化，找个PE系统，进去点点点几下就可以轻松转换格式，具体自己百度。</p><p>鉴于windows的运行机制，个人建议固体硬盘留给C盘做系统盘，机械硬盘一个分区用作数据存储。如果只有一个机械硬盘，要安装的软件少，则100G给C盘，其他做数据存储。让C盘的空间使用率在60%或许是比较合适的。</p><p>具体而言，不同的主板进入BIOS的方法可能不一样，大部分是使用<code>F2</code> 进入BIOS设置。装系统，需要关闭有个 security 啥的，允许 使用<code>USB boot</code> 引导 使用 UEFI，可以设置U盘的引导顺序为第一个，<code>F10</code>保存重启，如果不知道如何进入<code>boot manager</code> 的话。如果一切顺利，重启选择重USB引导启动进入安装界面，一路点点点，设置分区大小，会自动重启几下，随后系统就算是全新安装好了。如果你是个懒人，可以考虑双击<code>setup</code> 进行升级安装，但只能升级对应版本系统，并且升级后极有可能有一些莫名其妙的小bug，不推荐。</p><p>win10 全系列+office 激活工具（<em>最好的激活工具</em>）：</p><p>蓝奏云盘: <a href="https://pan.lanzou.com/i0fg1tg" target="_blank" rel="noopener">https://pan.lanzou.com/i0fg1tg</a> </p><p>度盘链接: <a href="https://pan.baidu.com/s/1mjbPqm0#rach" target="_blank" rel="noopener">https://pan.baidu.com/s/1mjbPqm0</a> 密码: rach</p><p>至于后续，会有其他windows系列教程上线，敬请期待。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;首先得知道windows这玩意儿是啥。或许很多人已将将windows和PC电脑画等号了，这显然是不对的。windows是巨硬推出的一款带图形界面的操作系统，我们买的电脑或者笔记本大部分钱用于硬件上，几户所有预装系统的笔记本都是最便宜定置性最差的windows家庭版（或则家庭中文版）。于是逻辑上而言，装系统将是使用windows的第一步，对于小白用户，老老实实用你的windows家庭版（或许你都不知道自己的系统是啥，和别人的有啥区别，囧）。&lt;/p&gt;
    
    </summary>
    
      <category term="实用" scheme="https://rachpt.me/categories/%E5%AE%9E%E7%94%A8/"/>
    
      <category term="教程" scheme="https://rachpt.me/categories/%E5%AE%9E%E7%94%A8/%E6%95%99%E7%A8%8B/"/>
    
    
      <category term="windows" scheme="https://rachpt.me/tags/windows/"/>
    
  </entry>
  
  <entry>
    <title>Linux下的PDF阅读软件zathura</title>
    <link href="https://rachpt.me/2018/01/22/linux-pdfreader-zathura/"/>
    <id>https://rachpt.me/2018/01/22/linux-pdfreader-zathura/</id>
    <published>2018-01-22T09:58:31.000Z</published>
    <updated>2018-03-05T05:15:39.332Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>记录 zathura 的常用设置与技巧。</p></blockquote><a id="more"></a><h1 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h1><p><code>~/.config/zathura/zathurarc</code> 用户配置文件与路径；</p><p><code>/etc/zathurarc</code> 全局配置文件与路径；</p><p>使用 <code>gedit ~/.config/zathura/zathurarc</code> 添加下面的配置命令，#号以及后面为注释。</p><pre><code>set adjust-open &quot;width&quot; #以宽度自适应打开set font &quot;Noto Sans CJK SC Regular 10&quot; #字体与字号set guioptions &quot;&quot; #GUI相关，留空可隐藏底部statusbarset window-title-basename true #只显示文件名，否则显示完整路径set incremental-search true #增强搜索，实时搜索set show-v-scrollbar true #显示右侧进度条set selection-clipboard clipboard #粘贴版set window-height 760 #默认高度，像素set window-width 1300 #默认宽度# 更多请参考：https://github.com/lervag/dotfiles/blob/master/config/zathura/zathurarc</code></pre><h2 id="linux-mint-18-3-的路径"><a href="#linux-mint-18-3-的路径" class="headerlink" title="linux mint 18.3 的路径"></a>linux mint 18.3 的路径</h2><pre><code># 设置默认打开方式，（如果右键无效可使用下面方法）/etc/gnome/defaults.list #保存全局打开方式路径/usr/share/applications #保存 ，这两个是一样的～/.config/mimeapps.list #用户# 添加application/pdf=xpdf.desktop</code></pre><h1 id="部分快捷键"><a href="#部分快捷键" class="headerlink" title="部分快捷键"></a>部分快捷键</h1><blockquote><pre><code>f     高亮链接，按 相应数字 打开链接；q     退出；\# ^ 是 ctrl 键^f     Scroll page down^b     Scroll page up^d     Scroll half a page down^u     Scroll half a page upr     Rotate the pageR     Reload the document^n     Toggle statusbar visibility^m     Toggle inputbar visibility^r     inverted color /反色space     半页数字 + G     跳转页码gg     最前GG     最后</code></pre></blockquote><h2 id="命令"><a href="#命令" class="headerlink" title="命令"></a>命令</h2><blockquote><pre><code>:bmark xxx     创建书签xxx （长书签）:blist xxx     打开bookmark:bdelete xxx     删除书签:q             退出`/word`         搜索word，使用 `n / N` 跳到下一个(上一个)结果，？                    搜索 向前（向后）:info         显示文档信息</code></pre></blockquote><pre><code>短命令书签 使用 `a letter or number` ，先按 m 键，然后按短书签名，创建；跳转先前的短书签，先按 `&apos;` 键，然后先前的字母或数字；</code></pre><h2 id="关于复制问题"><a href="#关于复制问题" class="headerlink" title="关于复制问题"></a>关于复制问题</h2><blockquote><p>I discovered that zathura is using the x11 primary selection as default instead of the actual clipboard. This can be changed by creating a <code>~/.config/zathura/zathurarc</code> file with the following content:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set selection-clipboard clipboard</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>具体见 <a href="https://github.com/zegervdv/homebrew-zathura/issues/5" target="_blank" rel="noopener">https://github.com/zegervdv/homebrew-zathura/issues/5</a></p></blockquote><p>部分参考 <a href="http://80x86.io/post/pdf-viewer-for-linuxer" target="_blank" rel="noopener">http://80x86.io/post/pdf-viewer-for-linuxer</a></p><p><img src="https://ws1.sinaimg.cn/large/675bda05gy1fp1uxu17u1j20rm0nidic.jpg" alt="zathura-pic1"> </p><p><img src="https://ws1.sinaimg.cn/large/675bda05gy1fp1v0pmzbkj210o0ni7ck.jpg" alt="zathura-pic2"> </p><p><img src="https://ws1.sinaimg.cn/large/675bda05gy1fp1v1i0i0dj20rm0ni0wp.jpg" alt="zathura-pic3"> </p><p><img src="https://ws1.sinaimg.cn/large/675bda05gy1fp1v25jgqtj20rm0ni0y7.jpg" alt="zathura-pic4"></p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;记录 zathura 的常用设置与技巧。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="实用" scheme="https://rachpt.me/categories/%E5%AE%9E%E7%94%A8/"/>
    
      <category term="教程" scheme="https://rachpt.me/categories/%E5%AE%9E%E7%94%A8/%E6%95%99%E7%A8%8B/"/>
    
    
      <category term="PDF" scheme="https://rachpt.me/tags/PDF/"/>
    
      <category term="linux" scheme="https://rachpt.me/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>ubuntu 更新 xz 至 5.2+</title>
    <link href="https://rachpt.me/2018/01/13/ubuntu-update-xz-to-5-2/"/>
    <id>https://rachpt.me/2018/01/13/ubuntu-update-xz-to-5-2/</id>
    <published>2018-01-13T06:32:56.000Z</published>
    <updated>2018-03-05T05:21:37.500Z</updated>
    
    <content type="html"><![CDATA[<p>xz 是啥，以前觉着7z就已经到顶级了，原来还有更厉害的xz压缩。</p><a id="more"></a><p>具体见知乎 <a href="https://zhuanlan.zhihu.com/p/20926080" target="_blank" rel="noopener">谁才是压缩的王者？7z 还是 xz</a> 。</p><p>了解到 xz 5.2 以上才支持多线程，而ubuntu 默认的xz不支持多线程，于是升级xz。</p><p>下面是记录升级方法：</p><p>到 <a href="https://launchpad.net/ubuntu/+source/xz-utils/5.2.2-1.3/+build/13082764" target="_blank" rel="noopener">https://launchpad.net/ubuntu/+source/xz-utils/5.2.2-1.3/+build/13082764</a> 下载 <code>liblzma5_5.2.2-1.3_amd64.deb (88.7 KiB)</code>安装即可</p><p>使用<code>xz -V</code>  命令查看 xz版本。</p><p><img src="https://ws1.sinaimg.cn/large/675bda05gy1fp1vbhl7sgj20g40fn0uz.jpg" alt="xz-pic1"></p><p><img src="https://ws1.sinaimg.cn/large/675bda05gy1fp1vc0m5mkj20g60fqmzg.jpg" alt="xz-pic2"></p><p><img src="https://ws1.sinaimg.cn/large/675bda05gy1fp1vcr0x28j20g30fndi2.jpg" alt="xz-pic3"></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;xz 是啥，以前觉着7z就已经到顶级了，原来还有更厉害的xz压缩。&lt;/p&gt;
    
    </summary>
    
      <category term="实用" scheme="https://rachpt.me/categories/%E5%AE%9E%E7%94%A8/"/>
    
      <category term="教程" scheme="https://rachpt.me/categories/%E5%AE%9E%E7%94%A8/%E6%95%99%E7%A8%8B/"/>
    
    
      <category term="ubuntu" scheme="https://rachpt.me/tags/ubuntu/"/>
    
  </entry>
  
  <entry>
    <title>建一个个人网站需要花费多少</title>
    <link href="https://rachpt.me/2018/01/12/%E5%BB%BA%E4%B8%AA%E4%BA%BA%E7%BD%91%E5%9D%80%E9%9C%80%E8%A6%81%E8%8A%B1%E5%A4%9A%E5%B0%91/"/>
    <id>https://rachpt.me/2018/01/12/建个人网址需要花多少/</id>
    <published>2018-01-11T16:00:00.000Z</published>
    <updated>2018-03-06T04:16:02.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>几年前，当我还是个电脑盲，在探索各种系统美化设置的过程中了解到了博客这种东西。</p></blockquote><a id="more"></a><h1 id="HTML语法"><a href="#HTML语法" class="headerlink" title="HTML语法"></a>HTML语法</h1><p>常用的标签得会，虽然博客系统已经可以做到所见即所得，但还以有可能需要直接使用源码编辑。</p><p>解决完会编辑后，让别人看到。</p><h1 id="WEB环境"><a href="#WEB环境" class="headerlink" title="WEB环境"></a>WEB环境</h1><p>几乎是建站三件套 <code>Apache</code> + <code>PHP</code> + <code>MySQL</code> 。分别处理 HTML php 与 数据库。对于新手而言，只要多找几篇博文就能购轻松搭建好环境。</p><h1 id="使用建站软件"><a href="#使用建站软件" class="headerlink" title="使用建站软件"></a>使用建站软件</h1><p>在Apache的安装目录有 htcp 文件夹为网址根目录（nginx 为 www 文件夹） ，放好解压了的建站软件，比如Joomla，WordPress，Drupal等软件，启动web服务，使用浏览器访问 localhost ，然后按说明点点点就可以了。<br>几乎是个会用电脑的人都会吧。</p><h1 id="云主机"><a href="#云主机" class="headerlink" title="云主机"></a>云主机</h1><p>一般独立主机，一个月100元以内，对于建一个个人小网站实在是大材小用。推荐使用虚拟云主机，阿里云的，6元1年，200m空间，20m数据库，月10G浏览对于小站足够了。</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;几年前，当我还是个电脑盲，在探索各种系统美化设置的过程中了解到了博客这种东西。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="笔记" scheme="https://rachpt.me/categories/%E7%AC%94%E8%AE%B0/"/>
    
    
  </entry>
  
</feed>
